{"version":3,"sources":["assets/img/qrcode.png","theme/index.tsx","components/Icon.tsx","components/Dividier.tsx","components/Tag.tsx","lib/category.ts","components/Category.tsx","lib/date.ts","components/EachRecord.tsx","components/DayRecord.tsx","components/MonthRecord.tsx","hooks/useRecordList.ts","components/Sticker.tsx","components/Drawer.tsx","components/Button.tsx","components/NumberPad.tsx","components/Money.tsx","components/CategoryFilter.tsx","components/Menu.tsx","components/Layout.tsx","components/MonthPanel.tsx","pages/Summary.tsx","pages/Settings.tsx","components/RecordDetails.tsx","pages/Details.tsx","components/ProgressBar.tsx","pages/Analysis/CategorySection.tsx","pages/Analysis/MonthFilterSection.tsx","lib/chart.ts","pages/Analysis/DayAnalysis.tsx","pages/Analysis/MonthAnalysis.tsx","pages/Analysis/Analysis.tsx","App.tsx","index.tsx"],"names":["theme","$white","$success","$danger","$warning","$linkText","$mainText","$normalText","$subText","$placeholder","$largeTextSize","$mainTextSize","$normalTextSize","$smallTextSize","StyledIcon","styled","svg","props","width","size","height","fill","color","Icon","name","attributes","className","aria-hidden","xlinkHref","defaultProps","VerticalDivider","span","borderRight","margin","gap","borderColor","HorizontalDivider","div","borderBottom","Divider","direction","StyledTag","Tag","children","CATEGORY_COLOR","none","background","expense","income","ALL_TYPE","ALL_CATEGORIES","id","iconName","other","clothes","shopping","traffic","eat","travel","stock","living","salary","transfer","DEFAULT_INCOME_CATEGORIES","DEFAULT_EXPENSE_CATEGORIES","StyledCategory","Category","category","recordType","MONTH","StyledEachRecord","Link","EachRecord","record","date","amount","categoryId","note","type","find","c","time","dayjs","format","to","toFixed","StyledDayRecord","ul","Header","header","DateSection","section","AmountSection","DayRecord","dayRecord","day","expenseTotal","incomeTotal","recordList","style","marginRight","map","RecordList","MonthRecord","monthRecord","month","curMonth","DEFAULT_RECORDS","toISOString","appendRecord","prevRecordList","rawRecord","m","push","d","updateTotal","bulkAppendRecords","rawRecordList","JSON","parse","stringify","forEach","parseMonthRecord","useRecordList","ITEM_NAME","useState","setRawRecordList","setRecordList","useEffect","fetchData","rawString","window","localStorage","getItem","addRawRecord","newRawRecordList","setItem","getMonthRecord","filterRecordList","filtered","filter","r","isSame","deleteRecord","editRecord","copy","index","some","i","slice","StyledSticker","Sticker","onClick","Shadow","position","bottom","zIndex","Main","Drawer","title","closeDrawer","e","stopPropagation","BUTTON_COLOR","success","warning","BUTTON_SIZE","small","padding","fontsize","normal","StyledButton","button","display","alignItems","justifyContent","outline","border","borderRadius","Button","StyledNumberPad","value","NumberPad","onOK","onChange","text","target","textContent","length","onDel","newValue","prevValue","MAX_AMOUNT","test","includes","isNaN","parseFloat","split","alert","updateAmount","TypeSection","CategoryList","CategoryItem","li","CategoryText","NoteSection","NumberPadSection","Money","onSubmit","Date","getTime","toString","setNote","setType","setCategoryId","setAmount","amountString","setAmountString","categories","newNote","prompt","newRawRecord","BACKGROUND","StyledCategoryFilter","p","FilterSection","selected","CategoryFilter","submit","StyledMenu","MenuItem","Menu","pathname","useLocation","StyledLayout","Layout","StyledMonthPanel","Year","MonthList","MonthItem","getPrevMonths","Array","_","subtract","MonthPanel","thisYear","prevYear","prevMonths","prevYearMonths","thisYearMonths","newMonth","get","FilterWrapper","TypeButton","MonthButton","MonthFilterSection","Empty","Summary","showMonth","toggleMonth","showFilter","toggleFilter","showMoney","toggleMoney","setMonth","filterId","setFilterId","filterType","setFilterType","firstMonth","closeMoney","Item","QrCode","Contact","Settings","showQrCode","toggleQrcode","showContact","toggleContact","marginBottom","open","src","require","alt","href","rel","StyledRecordDetails","CategorySection","DetailsTable","table","DeleteButton","ActionSection","RecordDetails","onDelete","onEdit","marginLeft","confirm","Details","useHistory","goBack","useParams","StyledProgressBar","Text","Bar","Progress","progress","ProgressBar","Section","ClassList","ClassItem","classified","total","ratio","Object","values","sort","a","b","classify","MonthFilter","ExpenseTitle","Expense","Income","barChart","xData","yData","unit","tooltip","show","trigger","axisPointer","axis","textStyle","xAxis","axisLabel","formatter","data","yAxis","series","label","itemStyle","barMinHeight","DayAnalysis","xDayData","now","year","days","getDate","getDaysInMonth","yDayData","getYData","dayChartOptions","option","MonthAnalysis","months","monthChartOptions","StyledAnalysis","Analysis","selectedRecordList","StyledApp","App","innerHeight","setHeight","onResize","addEventListener","removeEventListener","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bab127ad.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","const theme = {\r\n  $white: '#edf5ed',\r\n  $success: '#40B475',\r\n  $danger: '#F76361',\r\n  $warning: '#F0B739',\r\n  $linkText: '#576F96',\r\n  $mainText: '#303133',\r\n  $normalText: '#606266',\r\n  $subText: '#909399',\r\n  $placeholder: '#C0C4CC',\r\n\r\n  $largeTextSize: '18px',\r\n  $mainTextSize: '16px',\r\n  $normalTextSize: '14px',\r\n  $smallTextSize: '12px',\r\n}\r\n\r\nexport default theme\r\n","import * as React from 'react'\r\nimport {SVGAttributes} from 'react'\r\nimport styled from 'styled-components'\r\nimport theme from '../theme'\r\n\r\ntype TProps = SVGAttributes<SVGElement> & {\r\n  name: string\r\n  color?: string\r\n  size?: number\r\n}\r\n\r\ntype TStyledIcon = {\r\n  size: number\r\n}\r\n\r\nconst StyledIcon = styled.svg<TStyledIcon>(props => ({\r\n  width: props.size,\r\n  height: props.size,\r\n  fill: props.color\r\n}))\r\n\r\nconst Icon: React.FC<TProps> = (props) => {\r\n  const {name, color, size, ...attributes} = props\r\n\r\n  return (\r\n    <StyledIcon size={size!}\r\n                color={color}\r\n                className=\"icon\"\r\n                aria-hidden=\"true\"\r\n                {...attributes}>\r\n      <use xlinkHref={`#icon-${name}`}/>\r\n    </StyledIcon>\r\n  )\r\n}\r\n\r\nIcon.defaultProps = {\r\n  size: 16,\r\n  color: theme.$normalText\r\n}\r\n\r\nexport default Icon\r\n","import * as React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ntype TDirection = 'vertical' | 'horizontal'\r\n\r\ntype TProps = {\r\n  direction?: TDirection\r\n  gap?: number,\r\n  color?: string\r\n}\r\n\r\n\r\nconst VerticalDivider = styled.span<TProps>(props => ({\r\n  borderRight: '1px solid',\r\n  margin: `0 ${props.gap}px`,\r\n  borderColor: props.color\r\n}));\r\n\r\nconst HorizontalDivider = styled.div<TProps>(props => ({\r\n  borderBottom: '1px solid',\r\n  margin: `${props.gap}px 0`,\r\n  borderColor: props.color\r\n}));\r\n\r\nconst Divider: React.FC<TProps> = (props) => {\r\n  const {direction} = props;\r\n  return (\r\n    direction === 'horizontal' ?\r\n      <HorizontalDivider {...props}/> :\r\n      <VerticalDivider {...props}/>\r\n  );\r\n};\r\n\r\nDivider.defaultProps =\r\n  {\r\n    gap: 16,\r\n    color: '#eee',\r\n    direction: 'vertical'\r\n  };\r\n\r\nexport default Divider;\r\n","import * as React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledTag = styled.span`\r\n  width: 1.5em;\r\n  height: 1.5em;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 4px;\r\n  background: #f4f4f4;\r\n  color: ${props=> props.theme.$subText};\r\n  font-size: ${props=> props.theme.$smallTextSize} !important;\r\n  border-radius: 4px;\r\n`\r\nconst Tag: React.FC= (props)=>{\r\n  return (\r\n    <StyledTag>{props.children}</StyledTag>\r\n  )\r\n}\r\n\r\n\r\nexport default Tag\r\n","import theme from '../theme'\r\n\r\nexport const CATEGORY_COLOR = {\r\n  none: {\r\n    background: '#ECECEC',\r\n    fill: '#C7C7C7'\r\n  },\r\n  expense: {\r\n    background: theme.$success,\r\n    fill: 'white'\r\n  },\r\n  income: {\r\n    background: theme.$warning,\r\n    fill: 'white'\r\n  }\r\n}\r\n\r\nexport const ALL_TYPE = '-1'\r\nexport const OTHER_TYPE = '0'\r\n\r\nexport const ALL_CATEGORIES = [\r\n  {\r\n    id: '0',\r\n    name: '其他',\r\n    iconName: 'rmb'\r\n  },\r\n  {\r\n    id: '1',\r\n    name: '衣服',\r\n    iconName: 'clothes'\r\n  },\r\n  {\r\n    id: '2',\r\n    name: '购物',\r\n    iconName: 'bag'\r\n  },\r\n  {\r\n    id: '3',\r\n    name: '交通',\r\n    iconName: 'bus'\r\n  },\r\n  {\r\n    id: '4',\r\n    name: '餐饮',\r\n    iconName: 'rice'\r\n  },\r\n  {\r\n    id: '5',\r\n    name: '旅行',\r\n    iconName: 'luggage'\r\n  },\r\n  {\r\n    id: '6',\r\n    name: '股票',\r\n    iconName: 'stock'\r\n  },\r\n  {\r\n    id: '7',\r\n    name: '水电媒',\r\n    iconName: 'water-drop'\r\n  },\r\n  {\r\n    id: '8',\r\n    name: '信用卡',\r\n    iconName: 'card'\r\n  },\r\n  {\r\n    id: '9',\r\n    name: '工资',\r\n    iconName: 'salary'\r\n  },\r\n  {\r\n    id: '10',\r\n    name: '转账',\r\n    iconName: 'transfer'\r\n  }\r\n]\r\n\r\nconst [\r\n  other, clothes, shopping,\r\n  traffic, eat, travel, stock,\r\n  living, salary, transfer\r\n] = ALL_CATEGORIES\r\n\r\nexport const DEFAULT_INCOME_CATEGORIES = [\r\n  salary, transfer, stock, other\r\n]\r\n\r\nexport const DEFAULT_EXPENSE_CATEGORIES = [\r\n  clothes, shopping, traffic, eat, travel, stock, living, transfer, other\r\n]\r\n","import * as React from 'react';\r\nimport styled from 'styled-components';\r\nimport Icon from './Icon'\r\nimport {TRecordType} from '../hooks/useRecordList'\r\nimport {CATEGORY_COLOR} from '../lib/category'\r\n\r\nexport type TCategory = {\r\n  id: string\r\n  name: string\r\n  iconName: string\r\n}\r\ntype TProps = {\r\n  category: TCategory\r\n  recordType: TRecordType | 'none'\r\n  size?: number\r\n}\r\ntype TStyledCategory = {\r\n  background: string\r\n  fill: string\r\n}\r\nconst StyledCategory = styled.span<TStyledCategory>`\r\n  padding: 8px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: ${props => props.background};\r\n  border-radius: 50%;\r\n  svg {\r\n    fill: ${props => props.fill}\r\n  }\r\n`\r\nconst Category: React.FC<TProps> = (props) => {\r\n  const {category, recordType,size} = props\r\n  const color = CATEGORY_COLOR[recordType]\r\n  return (\r\n    <StyledCategory {...color}>\r\n      <Icon name={category.iconName} size={size}/>\r\n    </StyledCategory>\r\n  )\r\n}\r\n\r\nCategory.defaultProps={\r\n  size:24\r\n}\r\nexport default Category\r\n","import {Dayjs} from 'dayjs'\r\n\r\nexport const MONTH = 'YYYY年MM月'\r\nexport const DAY = 'MM月DD日'\r\nexport const TIME = 'hh:mm'\r\nexport const FULL_TIME = 'YYYY年MM月DD日 hh:mm'\r\n\r\nexport const getDaysInMonth = (now: Dayjs) => {\r\n  const year = now.get('year')\r\n  const month = now.get('month')\r\n\r\n  const days = new Date(year, month + 1, 0).getDate()\r\n\r\n  return [...Array(days)].map((_, i) => i + 1)\r\n}\r\n","import * as React from 'react'\r\nimport Category from './Category'\r\nimport Divider from './Dividier'\r\nimport {DEFAULT_EXPENSE_CATEGORIES} from '../lib/category'\r\nimport styled from 'styled-components'\r\nimport {TRawRecord} from '../hooks/useRecordList'\r\nimport dayjs from 'dayjs';\r\nimport {TIME} from '../lib/date'\r\nimport {Link} from 'react-router-dom'\r\n\r\ntype TProps = {\r\n  record: TRawRecord\r\n}\r\nconst StyledEachRecord = styled(Link)`\r\n  padding: 24px 18px;\r\n  display: flex;\r\n  color: ${props=>props.theme.$normalText};\r\n  text-decoration: none;\r\n  .record-content {\r\n    flex-grow: 1;\r\n    padding: 0 16px;\r\n    &-details {\r\n      color: ${props => props.theme.$placeholder};\r\n      > span {\r\n        font-size: ${props => props.theme.$smallTextSize}\r\n      }\r\n    }\r\n    &-amount {\r\n      font-size: ${props => props.theme.$mainTextSize};\r\n    }\r\n  }\r\n`\r\n\r\nconst EachRecord: React.FC<TProps> = (props) => {\r\n  const {id,date, amount, categoryId, note, type} = props.record\r\n  const category = DEFAULT_EXPENSE_CATEGORIES.find(c => c.id === categoryId)\r\n  const time = dayjs(date).format(TIME)\r\n  return (\r\n    <StyledEachRecord to={`/record/${id}`}>\r\n      <Category category={category!} recordType={type}/>\r\n      <div className=\"record-content\">\r\n        <div>{category && category.name}</div>\r\n        <div className=\"record-content-details\">\r\n          <span>{time}</span>\r\n          <Divider gap={8}/>\r\n          <span>{note}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"record-content-amount\">\r\n        {type === 'income' ? '+' : '-'}\r\n        {amount.toFixed(2)}\r\n      </div>\r\n    </StyledEachRecord>\r\n  )\r\n}\r\n\r\nexport default EachRecord\r\n","import * as React from 'react';\r\nimport styled from 'styled-components';\r\nimport Tag from './Tag'\r\nimport EachRecord from './EachRecord'\r\nimport {TDayRecord} from '../hooks/useRecordList'\r\n\r\ntype TProps = {\r\n  dayRecord: TDayRecord\r\n}\r\n\r\nconst StyledDayRecord = styled.ul`\r\n  border-radius: 8px;\r\n  margin-bottom: 8px;\r\n  background: white;\r\n  color: ${props=> props.theme.$mainText};\r\n  overflow: hidden;\r\n  &:last-child{\r\n    margin-bottom: 0;\r\n  }\r\n`\r\n\r\nconst Header = styled.header`\r\n  padding: 24px 18px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: #fbfbfb;\r\n  span{\r\n    font-size: ${props=> props.theme.$mainTextSize};\r\n  }\r\n`\r\n\r\nconst DateSection = styled.section``\r\n\r\nconst AmountSection = styled.section`\r\n  display: flex;\r\n  align-items: center;\r\n  color: ${props => props.theme.$normalText};\r\n  > span {\r\n    font-size: ${props => props.theme.$normalTextSize};\r\n  }\r\n`\r\n\r\nconst DayRecord: React.FC<TProps> =(props)=>{\r\n  const {day, expenseTotal, incomeTotal, recordList} = props.dayRecord\r\n  return(\r\n    <StyledDayRecord>\r\n      <Header>\r\n        <DateSection>\r\n          <span style={{marginRight: 8}}>{day}</span>\r\n          <span>星期二</span>\r\n        </DateSection>\r\n        <AmountSection>\r\n          <Tag>支</Tag>\r\n          <span style={{marginRight: 4}}>{expenseTotal.toFixed(2)}</span>\r\n          <Tag>收</Tag>\r\n          <span style={{marginRight: 4}}>{incomeTotal.toFixed(2)}</span>\r\n          <Tag>总</Tag>\r\n          <span style={{marginRight: 4}}>{incomeTotal-expenseTotal}</span>\r\n        </AmountSection>\r\n      </Header>\r\n      <ul>\r\n        {\r\n          recordList && recordList.map(record=> (\r\n            <EachRecord key={record.id} record={record}/>\r\n          ))\r\n        }\r\n      </ul>\r\n    </StyledDayRecord>\r\n  )\r\n}\r\n\r\nexport default DayRecord\r\n","import * as React from 'react';\r\nimport DayRecord from './DayRecord';\r\nimport {TMonthRecord} from '../hooks/useRecordList';\r\nimport styled from 'styled-components';\r\nimport Divider from './Dividier';\r\nimport dayjs from 'dayjs';\r\nimport {MONTH} from '../lib/date';\r\n\r\ntype TProps = {\r\n  monthRecord: TMonthRecord\r\n}\r\n\r\nconst Header = styled.div`\r\n  padding: 8px 18px;\r\n  \r\n  > span {\r\n    font-size: ${props => props.theme.$normalTextSize};\r\n    color: ${props => props.theme.$subText}\r\n  }\r\n`;\r\n\r\nconst RecordList = styled.ul`\r\n`;\r\n\r\nconst MonthRecord: React.FC<TProps> = (props) => {\r\n  const {month, recordList, incomeTotal, expenseTotal} = props.monthRecord;\r\n  const curMonth = dayjs().format(MONTH)\r\n  return (\r\n    <RecordList>\r\n      {\r\n        curMonth !== month &&\r\n        <Header>\r\n          <span>{month}</span>\r\n          <Divider gap={8}/>\r\n          <span style={{marginRight: 12}}>\r\n            总支出￥{expenseTotal.toFixed(2)}\r\n          </span>\r\n          <span>\r\n            总收入￥{incomeTotal.toFixed(2)}\r\n          </span>\r\n        </Header>\r\n      }\r\n      <ul>{\r\n        recordList && recordList.map(dayRecord => (\r\n          <DayRecord key={dayRecord.day} dayRecord={dayRecord}/>\r\n        ))\r\n      }</ul>\r\n\r\n    </RecordList>\r\n  );\r\n};\r\n\r\nexport default MonthRecord;\r\n","import dayjs, {Dayjs} from 'dayjs'\r\nimport {useEffect, useState} from 'react'\r\nimport {DAY, MONTH} from '../lib/date'\r\nimport {ALL_TYPE} from '../lib/category'\r\n\r\nexport type TRecordType = 'expense' | 'income'\r\nexport type TRawRecord = {\r\n  id: string\r\n  date: string\r\n  categoryId: string\r\n  amount: number\r\n  note: string\r\n  type: TRecordType\r\n}\r\nexport type TRecord = {\r\n  incomeTotal: number\r\n  expenseTotal: number\r\n}\r\nexport type TDayRecord = TRecord & {\r\n  day: string\r\n  recordList: TRawRecord[]\r\n}\r\nexport type TMonthRecord = TRecord & {\r\n  month: string\r\n  recordList: TDayRecord[]\r\n}\r\n\r\nexport const DEFAULT_RECORDS: TRawRecord[] = [\r\n  {\r\n    id: '1',\r\n    date: dayjs('2021-09-04').toISOString(),\r\n    categoryId: '4',\r\n    amount: 300,\r\n    note: '吃黄焖鸡米饭',\r\n    type: 'expense'\r\n  },\r\n  {\r\n    id: '2',\r\n    date: dayjs('2021-08-04').toISOString(),\r\n    categoryId: '9',\r\n    amount: 400,\r\n    note: '工资',\r\n    type: 'income'\r\n  },\r\n  {\r\n    id: '3',\r\n    date: dayjs('2021-08-03').toISOString(),\r\n    categoryId: '1',\r\n    amount: 200,\r\n    note: '买衣服',\r\n    type: 'expense'\r\n  },\r\n  {\r\n    id: '4',\r\n    date: dayjs('2021-08-03').toISOString(),\r\n    categoryId: '5',\r\n    amount: 500,\r\n    note: '去巴哈马',\r\n    type: 'expense'\r\n  }\r\n]\r\n\r\n// 追加单个 Record\r\nexport const appendRecord = (prevRecordList: TMonthRecord[], rawRecord: TRawRecord) => {\r\n  const month = dayjs(rawRecord.date).format(MONTH)\r\n  const day = dayjs(rawRecord.date).format(DAY)\r\n  // 找 month\r\n  let monthRecord = prevRecordList.find((m: TMonthRecord) => m.month === month)\r\n  if (!monthRecord) {\r\n    monthRecord = {month, incomeTotal: 0, expenseTotal: 0, recordList: []}\r\n    prevRecordList.push(monthRecord)\r\n  }\r\n\r\n  // 找 day\r\n  let dayRecord = monthRecord.recordList.find((d: TDayRecord) => d.day === day)\r\n  if (!dayRecord) {\r\n    dayRecord = {day, incomeTotal: 0, expenseTotal: 0, recordList: []}\r\n    monthRecord.recordList.push(dayRecord)\r\n  }\r\n\r\n  // 插入值\r\n  dayRecord.recordList.push(rawRecord)\r\n\r\n  // 更新 total\r\n  updateTotal(monthRecord, dayRecord, rawRecord)\r\n}\r\n\r\nconst updateTotal = (monthRecord: TMonthRecord, dayRecord: TDayRecord, rawRecord: TRawRecord) => {\r\n  const {amount, type} = rawRecord\r\n\r\n  if (type === 'expense') {\r\n    dayRecord.expenseTotal += amount\r\n    monthRecord.expenseTotal += amount\r\n  } else {\r\n    dayRecord.incomeTotal += amount\r\n    monthRecord.incomeTotal += amount\r\n  }\r\n}\r\n\r\n// 批量追加多个 Record\r\nexport const bulkAppendRecords = (prevRecordList: TMonthRecord[], rawRecordList: TRawRecord[]) => {\r\n  let recordList: TMonthRecord[] = JSON.parse(JSON.stringify(prevRecordList))\r\n\r\n  rawRecordList.forEach((rawRecord: TRawRecord) => {\r\n    appendRecord(recordList, rawRecord)\r\n  })\r\n\r\n  return recordList\r\n}\r\n\r\nexport const parseMonthRecord = (monthRecord: TMonthRecord) => {\r\n  let rawRecordList: TRawRecord[] = []\r\n  monthRecord.recordList.forEach(m =>\r\n    m.recordList.forEach((d =>\r\n      rawRecordList.push(d))\r\n    )\r\n  )\r\n  return rawRecordList\r\n}\r\n\r\nconst useRecordList = () => {\r\n  const ITEM_NAME = 'rawRecordList'\r\n\r\n  const [rawRecordList, setRawRecordList] = useState<TRawRecord[]>([])\r\n  const [recordList, setRecordList] = useState<TMonthRecord[]>([])\r\n\r\n  // 获取 raw record list\r\n  useEffect(() => fetchData(), [])\r\n\r\n  const fetchData = () => {\r\n    const rawString = window.localStorage.getItem(ITEM_NAME)\r\n\r\n    const rawRecordList = !rawString ? DEFAULT_RECORDS : JSON.parse(rawString)\r\n\r\n    setRawRecordList(rawRecordList)\r\n    setRecordList(bulkAppendRecords([], rawRecordList))\r\n  }\r\n\r\n  const getMonthRecord = (month: string) => { // '2020年4月'\r\n    return recordList.find(m => m.month === month)\r\n  }\r\n\r\n  const addRawRecord = (rawRecord: TRawRecord) => {\r\n    const newRawRecordList = [rawRecord, ...rawRecordList]\r\n\r\n    window.localStorage.setItem(ITEM_NAME, JSON.stringify(newRawRecordList))\r\n\r\n    setRawRecordList(newRawRecordList)\r\n    setRecordList(bulkAppendRecords([], newRawRecordList))\r\n  }\r\n\r\n  const filterRecordList = (categoryId: string, month: Dayjs, type: TRecordType) => {\r\n    const filtered = rawRecordList.filter(r => {\r\n      if (categoryId === ALL_TYPE) return true // 所有类型\r\n      return r.type === type && r.categoryId === categoryId // 对应类型和种类\r\n    }).filter(r => {\r\n      if (month.isSame(dayjs(), 'month')) return true // 当月\r\n      return dayjs(r.date).isSame(month, 'month') // 对应月份\r\n    })\r\n\r\n    return bulkAppendRecords([], filtered)\r\n  }\r\n\r\n  const deleteRecord = (id: string) => {\r\n    const newRawRecordList = rawRecordList.filter(r => r.id !== id)\r\n\r\n    // 保存\r\n    window.localStorage.setItem(ITEM_NAME, JSON.stringify(newRawRecordList))\r\n\r\n    setRawRecordList(newRawRecordList)\r\n    setRecordList(bulkAppendRecords([], newRawRecordList))\r\n  }\r\n\r\n  const editRecord = (rawRecord: TRawRecord) => {\r\n    const copy: TRawRecord[] = JSON.parse(JSON.stringify(rawRecordList))\r\n    let index = -1\r\n\r\n    // 找到该 record\r\n    copy.some((r, i) => {\r\n      if (r.id === rawRecord.id) {\r\n        index = i\r\n        return true\r\n      }\r\n      return false\r\n    })\r\n\r\n    const newRawRecordList = [\r\n      ...copy.slice(0, index),\r\n      {...rawRecord},\r\n      ...copy.slice(index + 1)\r\n    ]\r\n\r\n    // 保存\r\n    window.localStorage.setItem(ITEM_NAME, JSON.stringify(newRawRecordList))\r\n\r\n    setRawRecordList(newRawRecordList)\r\n    setRecordList(bulkAppendRecords([], newRawRecordList))\r\n  }\r\n\r\n  return {\r\n    rawRecordList,\r\n    setRawRecordList,\r\n    recordList,\r\n    appendRecord,\r\n    bulkAppendRecords,\r\n    addRawRecord,\r\n    getMonthRecord,\r\n    fetchData,\r\n    filterRecordList,\r\n    deleteRecord,\r\n    editRecord\r\n  }\r\n}\r\n\r\nexport default useRecordList\r\n","import * as React from 'react'\r\nimport styled from 'styled-components'\r\nimport {AllHTMLAttributes} from 'react';\r\n\r\ntype TProps = AllHTMLAttributes<HTMLDivElement> &{}\r\n\r\nconst StyledSticker = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  bottom: 128px;\r\n  right: 32px;\r\n  width: 50px;\r\n  height: 50px;\r\n  background: white;\r\n  box-shadow: 0 2px 24px -6px ${props => props.theme.$normalText};\r\n  z-index: 3;\r\n  border-radius: 50%;\r\n`\r\n\r\nconst Sticker: React.FC<TProps> = (props) => {\r\n  const {onClick} = props\r\n  return (\r\n    <StyledSticker onClick={onClick}>\r\n      {props.children}\r\n    </StyledSticker>\r\n  )\r\n}\r\n\r\nexport default Sticker\r\n","import * as React from 'react'\r\nimport styled from 'styled-components'\r\nimport Icon from './Icon'\r\n\r\ntype TProps = {\r\n  closeDrawer: () => void\r\n  title?: string\r\n}\r\n\r\nconst Shadow = styled.div(props => ({\r\n  position: 'absolute',\r\n  height: '100%',\r\n  width: '100%',\r\n  bottom: 0,\r\n  zIndex: 4,\r\n  background: 'rgba(0, 0, 0, 0.5)',\r\n}))\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 16px;\r\n  border-bottom: 1px solid #eee;\r\n  font-size: ${props => props.theme.$largeTextSize};\r\n  background:  #FAFAFA;\r\n`\r\n\r\nconst Main = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  bottom: 0;\r\n  z-index: 5;\r\n  border-radius: 8px 8px 0 0;\r\n  background: white;\r\n  overflow: hidden;\r\n`\r\n\r\nconst Drawer: React.FC<TProps> = (props) => {\r\n  const {title,closeDrawer} =props\r\n  return (\r\n    <Shadow onClick={closeDrawer}>\r\n      <Main onClick={e=>e.stopPropagation()}>\r\n        <Header>\r\n          <Icon onClick={closeDrawer} name=\"close\" size={18}/>\r\n          <span>{title}</span>\r\n          <Icon name=\"close\" color=\"transparent\"/>\r\n        </Header>\r\n        {props.children}\r\n      </Main>\r\n    </Shadow>\r\n  )\r\n}\r\n\r\nDrawer.defaultProps={\r\n  title: ''\r\n}\r\n\r\nexport default Drawer\r\n","import * as React from 'react';\r\nimport styled from 'styled-components';\r\nimport theme from '../theme';\r\n\r\ntype TProps = React.ButtonHTMLAttributes<HTMLButtonElement>&{\r\n  recordType?: 'success' | 'warning' | 'none',\r\n  size?: 'small' | 'normal'\r\n}\r\n\r\ntype TStyledButton = {\r\n  recordType: 'success' | 'warning' | 'none',\r\n  size: 'small' | 'normal'\r\n}\r\n\r\nconst BUTTON_COLOR={\r\n  success:{\r\n    background: theme.$success,\r\n    borderColor: theme.$success,\r\n    color: 'white'\r\n  },\r\n  warning:{\r\n    background: theme.$warning,\r\n    borderColor: theme.$warning,\r\n    color: 'white'\r\n  },\r\n  none:{\r\n    background: '#f1f1f1',\r\n    borderColor: '#f1f1f1',\r\n    color: theme.$subText\r\n  }\r\n}\r\n\r\nconst BUTTON_SIZE={\r\n  small: {\r\n    padding: '2px 8px',\r\n    fontsize: theme.$smallTextSize\r\n  },\r\n  normal: {\r\n    padding: '4px 12px'\r\n  }\r\n}\r\n\r\nconst StyledButton = styled.button<TStyledButton>(props=>{\r\n  return{\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    outline: 'none',\r\n    borderRight: '16px',\r\n    marginRight: '8px',\r\n    border: '1px solid',\r\n    borderRadius: '4px',\r\n    ...BUTTON_COLOR[props.recordType],\r\n    ...BUTTON_SIZE[props.size]\r\n  }\r\n})\r\n\r\nconst Button: React.FC<TProps> = (props)=>{\r\n  const {recordType,size,...attributes} = props\r\n  return (\r\n    <StyledButton {...attributes} recordType={recordType!} size={size!}>\r\n      {props.children}\r\n    </StyledButton>\r\n  )\r\n}\r\n\r\nButton.defaultProps={\r\n  recordType: 'none',\r\n  size: 'normal'\r\n}\r\n\r\nexport default Button\r\n","import * as React from 'react'\r\nimport styled from 'styled-components'\r\nimport {TRecordType} from '../hooks/useRecordList'\r\n\r\ntype TProps = {\r\n  value: string\r\n  recordType: TRecordType\r\n  onChange: (newValue: string) => void\r\n  onOK: () => void\r\n}\r\n\r\ntype TStyledNumberPad = {\r\n  recordType: TRecordType\r\n  value: string\r\n}\r\n\r\nconst StyledNumberPad = styled.div<TStyledNumberPad>`\r\n  > button {\r\n    float: left;\r\n    width: 25%;\r\n    height: 64px;\r\n    background: white;\r\n    font-size: 1.3em;\r\n    outline: none;\r\n    border-radius: 8px;\r\n    border: 4px solid #FAFAFA;\r\n    &.zero {\r\n      width: 50%;\r\n    }\r\n    &.OK {\r\n      height: 192px;\r\n      float: right;\r\n      font-size: 1em;\r\n      color: white;\r\n      opacity: ${props => props.value === '0' ? 0.6 : 1};\r\n      background: ${({recordType, theme}) => recordType === 'expense' ? theme.$success : theme.$warning};\r\n    }\r\n  }\r\n`\r\n\r\nconst updateAmount = (prevValue: string, text: string) => {\r\n  const MAX_AMOUNT = 100000\r\n  const MAX_DECIMAL_LENGTH = 2\r\n\r\n  // 非法情况\r\n  if (!/[\\d.]/.test(text)) return prevValue\r\n\r\n  if (prevValue.includes('.')) {\r\n    // 如果 text 是 .\r\n    if (text === '.') return prevValue\r\n\r\n    // 如果是数字\r\n    if (!isNaN(parseFloat(text))) {\r\n      // 判断是否超出\r\n      const decimal = prevValue.split('.')[1]\r\n\r\n      return decimal.length >= MAX_DECIMAL_LENGTH ? prevValue : prevValue + text\r\n    }\r\n\r\n    return prevValue\r\n  }\r\n\r\n  if (prevValue === '0') {\r\n    return text === '.' ? prevValue + text : text\r\n  }\r\n\r\n  const newValue = prevValue + text\r\n\r\n  if (parseFloat(newValue) > MAX_AMOUNT) {\r\n    alert(`输入金额不能超过${MAX_AMOUNT}`)\r\n    return prevValue\r\n  }\r\n\r\n  return newValue\r\n}\r\n\r\nconst NumberPad: React.FC<TProps> = (props) => {\r\n  const {value, onOK, onChange, recordType} = props\r\n\r\n  const onDel = () => {\r\n    if (value === '0') return\r\n\r\n    if (value.length === 1) return onChange('0')\r\n\r\n    onChange(value.slice(0, -1))\r\n  }\r\n\r\n  const onClickPad = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    const text = (e.target as HTMLButtonElement).textContent\r\n    // null\r\n    if (!text) return\r\n\r\n    // OK\r\n    if (text === '确定') return onOK()\r\n\r\n    // Del\r\n    if (text === 'DEL') return onDel()\r\n\r\n    // 其他\r\n    const newValue = updateAmount(value, text)\r\n    onChange(newValue)\r\n  }\r\n\r\n  return (\r\n    <StyledNumberPad recordType={recordType}\r\n                     value={value}\r\n                     className=\"clearfix\"\r\n                     onClick={onClickPad}>\r\n      <button>1</button>\r\n      <button>2</button>\r\n      <button>3</button>\r\n      <button>DEL</button>\r\n\r\n      <button>4</button>\r\n      <button>5</button>\r\n      <button>6</button>\r\n      <button className=\"OK\">确定</button>\r\n\r\n      <button>7</button>\r\n      <button>8</button>\r\n      <button>9</button>\r\n\r\n      <button className=\"zero\">0</button>\r\n      <button>.</button>\r\n    </StyledNumberPad>\r\n  )\r\n}\r\n\r\nexport default NumberPad\r\n","import * as React from 'react';\r\nimport {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport Category from './Category';\r\nimport {DEFAULT_EXPENSE_CATEGORIES, DEFAULT_INCOME_CATEGORIES} from '../lib/category';\r\nimport {TRawRecord, TRecordType} from '../hooks/useRecordList';\r\nimport Button from './Button';\r\nimport NumberPad from './NumberPad';\r\n\r\ntype TProps = {\r\n  value?: TRawRecord\r\n  closeDrawer: () => void\r\n  onSubmit: (newTawRecord: TRawRecord) => void\r\n}\r\n\r\nconst TypeSection = styled.section`\r\n  padding: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst AmountSection = styled.section`\r\n  display: flex;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  border-bottom: 1px solid #eee;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  > span {\r\n    font-size: 2.5em;\r\n  }\r\n\r\n  > div {\r\n    padding-left: 8px;\r\n    flex-grow: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    height: 64px;\r\n    justify-content: flex-end;\r\n    > span{\r\n      border: none;\r\n      outline: none;\r\n      font-size: 2em;\r\n    }\r\n  }\r\n`;\r\nconst CategoryList = styled.ul`\r\n  padding: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  overflow-x: auto;\r\n  list-style: none;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 0;\r\n  }\r\n`;\r\nconst CategoryItem = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-right: 16px;\r\n\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n`;\r\nconst CategoryText = styled.span`\r\n  font-size: .8em;\r\n  margin-top: 8px;\r\n  color: ${props => props.theme.$subText};\r\n  word-break: keep-all;\r\n`;\r\nconst NoteSection = styled.section`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 24px 24px;\r\n\r\n  > span {\r\n    margin-right: 8px;\r\n    color: ${props => props.theme.$linkText};\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst NumberPadSection = styled.section`\r\n  padding: 4px;\r\n  background: #fafafa;\r\n`;\r\n\r\n\r\nconst Money: React.FC<TProps> = (props) => {\r\n  const {closeDrawer, onSubmit, value} = props;\r\n\r\n  const rawRecord: TRawRecord = value ? value : {\r\n    date: new Date().toISOString(),\r\n    id: new Date().getTime().toString(),\r\n    amount: 0,\r\n    categoryId: '1',\r\n    note: '',\r\n    type: 'expense'\r\n  };\r\n\r\n  const [note, setNote] = useState(rawRecord.note);\r\n  const [type, setType] = useState<TRecordType>(rawRecord.type);\r\n  const [categoryId, setCategoryId] = useState(rawRecord.categoryId);\r\n  const [amount, setAmount] = useState(rawRecord.amount);\r\n  const [amountString, setAmountString] = useState(rawRecord.amount.toString());\r\n\r\n  const categories = type === 'expense' ? DEFAULT_EXPENSE_CATEGORIES : DEFAULT_INCOME_CATEGORIES;\r\n\r\n  const onChangeAmount = (newValue: string) => {\r\n    setAmountString(newValue);\r\n    setAmount(parseFloat(newValue));\r\n  };\r\n\r\n  const addNote = () => {\r\n    const MAX_NOTE_LENGTH = 20;\r\n\r\n    const newNote = prompt('添加备注', '') || '';\r\n\r\n    if (newNote.length > MAX_NOTE_LENGTH) return alert(`不能超过${MAX_NOTE_LENGTH}个字`);\r\n\r\n    setNote(newNote);\r\n  };\r\n\r\n  const onOK = () => {\r\n    if (amount === 0) return alert('金额不能为0');\r\n\r\n    const newRawRecord = {\r\n      ...rawRecord,\r\n      amount,\r\n      categoryId,\r\n      note,\r\n      type\r\n    };\r\n\r\n    onSubmit(newRawRecord);\r\n\r\n    closeDrawer();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <TypeSection>\r\n        <Button recordType={type === 'expense' ? 'success' : 'none'}\r\n                onClick={() => setType('expense')}>\r\n          支出\r\n        </Button>\r\n        <Button recordType={type === 'income' ? 'warning' : 'none'}\r\n                onClick={() => setType('income')}>\r\n          收入\r\n        </Button>\r\n      </TypeSection>\r\n      <AmountSection>\r\n        <span>￥</span>\r\n        <div>\r\n          <span>\r\n            {amountString}\r\n          </span>\r\n        </div>\r\n      </AmountSection>\r\n      <CategoryList>\r\n        {\r\n          categories.map((category => (\r\n            <CategoryItem key={category.id}\r\n                          onClick={() => setCategoryId(category.id)}>\r\n              <Category category={category}\r\n                        recordType={categoryId === category.id ? type : 'none'}\r\n                        size={20}/>\r\n              <CategoryText>{category.name}</CategoryText>\r\n            </CategoryItem>\r\n          )))\r\n        }\r\n      </CategoryList>\r\n      <NoteSection>\r\n        <span onClick={addNote}>{note ? '修改' : '添加备注'}</span>\r\n        <article>{note}</article>\r\n      </NoteSection>\r\n      <NumberPadSection>\r\n        <NumberPad value={amountString}\r\n                   recordType={type}\r\n                   onChange={onChangeAmount}\r\n                   onOK={onOK}/>\r\n      </NumberPadSection>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Money;\r\n","import * as React from 'react';\r\nimport styled from 'styled-components';\r\nimport {ALL_TYPE, DEFAULT_EXPENSE_CATEGORIES,DEFAULT_INCOME_CATEGORIES} from '../lib/category'\r\nimport {TRecord, TRecordType} from '../hooks/useRecordList';\r\nimport theme from '../theme';\r\n\r\ntype TProps = {\r\n  recordType: TRecordType\r\n  value: string\r\n  closeDrawer: () => void\r\n  onSubmit: (id: string, type: TRecordType) => void\r\n}\r\n\r\ntype TCategoryItem = {\r\n  recordType: TRecordType\r\n  selected: boolean\r\n}\r\n\r\nconst BACKGROUND = {\r\n  expense: theme.$success,\r\n  income: theme.$warning\r\n}\r\n\r\nconst StyledCategoryFilter = styled.section`\r\n  max-height: 48vh;\r\n  padding: 32px 16px;\r\n  background:  #FAFAFA;\r\n  overflow-y: auto;\r\n  .selected {\r\n    background: ${props => props.theme.$success};\r\n    color: white;\r\n  }\r\n`\r\n\r\nconst Tag = styled.p`\r\n  margin: 8px 0 8px 4px;\r\n  color: ${props => props.theme.$subText};\r\n`\r\n\r\nconst FilterSection = styled.section`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`\r\n\r\nconst CategoryItem = styled.div<TCategoryItem>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 33.33333%;\r\n  padding: 16px;\r\n  border: 4px solid #FAFAFA;\r\n  border-radius: 6px;\r\n  font-size: 1.1em;\r\n  cursor: pointer;\r\n  background: ${props => props.selected ? BACKGROUND[props.recordType] : 'white'};\r\n  color: ${props => props.selected ? 'white' : props.theme.$normalText}\r\n`\r\n\r\nconst CategoryFilter: React.FC<TProps> = (props) => {\r\n  const {value, recordType, closeDrawer, onSubmit} = props\r\n\r\n  const submit = (id: string, type: TRecordType) => {\r\n    onSubmit(id, type)\r\n    closeDrawer()\r\n  }\r\n\r\n  return (\r\n    <StyledCategoryFilter>\r\n      <CategoryItem selected={value === ALL_TYPE}\r\n                    recordType=\"expense\"\r\n                    onClick={() => submit(ALL_TYPE, 'expense')}>\r\n        全部类型\r\n      </CategoryItem>\r\n\r\n      <Tag>支出</Tag>\r\n      <FilterSection>\r\n        {\r\n          DEFAULT_EXPENSE_CATEGORIES.map(c => (\r\n            <CategoryItem key={c.id}\r\n                          recordType=\"expense\"\r\n                          onClick={() => submit(c.id, 'expense')}\r\n                          selected={recordType === 'expense' && value === c.id}>\r\n              {c.name}\r\n            </CategoryItem>\r\n          ))\r\n        }\r\n      </FilterSection>\r\n\r\n      <Tag>收入</Tag>\r\n      <FilterSection>\r\n        {\r\n          DEFAULT_INCOME_CATEGORIES.map(c => (\r\n            <CategoryItem key={c.id}\r\n                          recordType=\"income\"\r\n                          onClick={() => submit(c.id, 'income')}\r\n                          selected={recordType === 'income' && value === c.id}>\r\n              {c.name}\r\n            </CategoryItem>\r\n          ))\r\n        }\r\n      </FilterSection>\r\n    </StyledCategoryFilter>\r\n  )\r\n}\r\n\r\nexport default CategoryFilter\r\n","import * as React from 'react'\r\nimport Icon from './Icon'\r\nimport styled from 'styled-components'\r\nimport {Link, useLocation} from 'react-router-dom'\r\nimport theme from '../theme'\r\n\r\ntype TMenuItem = {\r\n  selected: boolean\r\n}\r\n\r\nconst StyledMenu = styled.div`\r\n  padding: 12px 0;\r\n  background: white;\r\n  box-shadow: 0px -2px 12px 0px rgba(192,196,204,.4);\r\n  z-index: 2;\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  .selected {\r\n    color: ${props => props.theme.$success}\r\n  }\r\n`\r\n\r\nconst MenuItem = styled(Link)<TMenuItem>`\r\n  flex-grow: 1;\r\n  width: 33.333%;\r\n  float: left;\r\n  color: ${props => props.theme.$normalText};\r\n  font-size: ${props => props.theme.$normalTextSize};\r\n  text-align: center;\r\n  > div {\r\n    margin-top: 4px;\r\n    color: ${props => props.selected ? props.theme.$success : props.theme.$normalText};\r\n    text-align: center;\r\n  }\r\n`\r\n\r\nconst Menu: React.FC = () => {\r\n  const {pathname} = useLocation()\r\n\r\n  return (\r\n    <StyledMenu className=\"clearfix\">\r\n      <MenuItem to=\"/\" selected={pathname === '/'}>\r\n        {\r\n          pathname === '/' ?\r\n            <Icon name=\"solid-order\" size={24} color={theme.$success}/> :\r\n            <Icon name=\"order\" size={24}/>\r\n        }\r\n        <div>明细</div>\r\n      </MenuItem>\r\n      <MenuItem to=\"/analysis\" selected={pathname === '/analysis'}>\r\n        {\r\n          pathname === '/analysis' ?\r\n            <Icon name=\"solid-chart\" size={24} color={theme.$success}/> :\r\n            <Icon name=\"chart\" size={24}/>\r\n        }\r\n        <div>统计</div>\r\n      </MenuItem>\r\n      <MenuItem to=\"/settings\" selected={pathname === '/settings'}>\r\n        {\r\n          pathname === '/settings' ?\r\n            <Icon name=\"solid-settings\" size={24} color={theme.$success}/> :\r\n            <Icon name=\"settings\" size={24}/>\r\n        }\r\n        <div>设置</div>\r\n      </MenuItem>\r\n    </StyledMenu>\r\n  )\r\n}\r\n\r\nexport default Menu\r\n","\r\nimport * as React from 'react'\r\nimport styled from 'styled-components'\r\nimport Menu from './Menu'\r\n\r\nconst StyledLayout = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Header = styled.header`\r\n  padding: 52px 14px 16px;\r\n  background: ${props => props.theme.$success};\r\n  color: ${props => props.theme.$white};\r\n  .title {\r\n    text-align: center;\r\n    font-size: ${props => props.theme.$largeTextSize};\r\n  }\r\n`\r\n\r\nconst Layout: React.FC = (props) => {\r\n  return (\r\n    <StyledLayout>\r\n      <Header>\r\n        <p className=\"title\">记账本</p>\r\n      </Header>\r\n\r\n      {props.children}\r\n\r\n      <Menu/>\r\n    </StyledLayout>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import * as React from 'react'\r\nimport styled from 'styled-components'\r\nimport dayjs, {Dayjs} from 'dayjs'\r\n\r\ntype TProps = {\r\n  value: Dayjs\r\n  closeDrawer: () => void\r\n  onSubmit: (newMonth: Dayjs) => void\r\n}\r\n\r\ntype TMonthItem = {\r\n  selected: boolean\r\n}\r\n\r\nconst StyledMonthPanel = styled.section`\r\n  padding: 0 16px;\r\n  background:  #FAFAFA;\r\n`\r\n\r\nconst Year = styled.section`\r\n  > p {\r\n    padding: 16px 0;\r\n    text-align: center;\r\n    color: ${props => props.theme.$subText};\r\n  }\r\n`\r\n\r\nconst MonthList = styled.ul`\r\n  padding-bottom: 16px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  list-style: none;\r\n`\r\n\r\nconst MonthItem = styled.li<TMonthItem>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 6px;\r\n  border: 4px solid #FAFAFA;\r\n  width: 25%;\r\n  font-size: 1.1em;\r\n  padding: 16px;\r\n  background: ${props => props.selected ? props.theme.$success : 'white'};\r\n  color: ${props => props.selected ? 'white' : props.theme.$normalText}\r\n`\r\n\r\nexport const getPrevMonths = () => {\r\n  const DURATION = 5\r\n\r\n  return [...Array(DURATION)].map((_, index) => dayjs().subtract(index, 'month'))\r\n}\r\n\r\nconst MonthPanel: React.FC<TProps> = (props) => {\r\n  const {closeDrawer, value, onSubmit} = props\r\n\r\n  const thisYear = dayjs()\r\n  const prevYear = dayjs().subtract(1, 'year')\r\n\r\n  const prevMonths = getPrevMonths()\r\n  const prevYearMonths = prevMonths.filter(m => m.isSame(prevYear, 'year'))\r\n  const thisYearMonths = prevMonths.filter(m => m.isSame(thisYear, 'year'))\r\n\r\n  const submit = (newMonth: Dayjs) => {\r\n    onSubmit(newMonth)\r\n    closeDrawer()\r\n  }\r\n\r\n  return (\r\n    <StyledMonthPanel>\r\n      {/*今年的月份*/}\r\n      {\r\n        thisYearMonths &&\r\n        <Year>\r\n          <p>{thisYear.get('year')}</p>\r\n          <MonthList>\r\n            {thisYearMonths.map(m =>\r\n              <MonthItem selected={m.isSame(value, 'date')}\r\n                         key={m.get('month')}\r\n                         onClick={() => submit(m)}>\r\n                {m.get('month') + 1}月\r\n              </MonthItem>\r\n            )}\r\n          </MonthList>\r\n        </Year>\r\n      }\r\n\r\n      {/*去年的月份*/}\r\n      {\r\n        prevYearMonths.length !== 0 &&\r\n        <Year>\r\n          <p>{prevYear.get('year')}</p>\r\n          <MonthList>\r\n            {prevYearMonths.map(m =>\r\n              <MonthItem selected={m.isSame(value, 'date')}\r\n                         key={m.get('month')}\r\n                         onClick={() => submit(m)}>\r\n                {m.get('month') + 1}月\r\n              </MonthItem>\r\n            )}\r\n          </MonthList>\r\n        </Year>\r\n      }\r\n    </StyledMonthPanel>\r\n  )\r\n}\r\n\r\nexport default MonthPanel\r\n","import * as React from 'react'\r\nimport styled from 'styled-components';\r\nimport Icon from '../components/Icon';\r\nimport Divider from '../components/Dividier';\r\nimport MonthRecord from '../components/MonthRecord';\r\nimport useRecordList, {TRawRecord, TRecordType} from '../hooks/useRecordList';\r\nimport dayjs from 'dayjs';\r\nimport {MONTH} from '../lib/date';\r\nimport Sticker from '../components/Sticker'\r\nimport theme from '../theme';\r\nimport Drawer from '../components/Drawer';\r\nimport {useState} from 'react';\r\nimport Money from '../components/Money';\r\nimport CategoryFilter from '../components/CategoryFilter'\r\nimport {ALL_CATEGORIES, ALL_TYPE} from '../lib/category'\r\nimport Layout from '../components/Layout';\r\nimport MonthPanel from '../components/MonthPanel';\r\nconst FilterWrapper = styled.section`\r\n  padding: 0 12px;\r\n  background: ${props => props.theme.$success};\r\n  color: ${props => props.theme.$white};\r\n`\r\n\r\nconst TypeButton = styled.button`\r\n  margin-top: 26px;\r\n  padding: 8px 16px;\r\n  color: ${props => props.theme.$white};\r\n  background: #53BC82;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 4px;\r\n`\r\n\r\nconst MonthButton = styled.button`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 8px 16px;\r\n  color: ${props => props.theme.$white};\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n`\r\n\r\nconst MonthFilterSection = styled.section`\r\n  padding-top: 8px;\r\n  font-weight: 300;\r\n`\r\n\r\nconst RecordList = styled.ul`\r\n  padding: 8px;\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`\r\n\r\nconst Empty = styled.div`\r\n  padding-top: 24px;\r\n  height: 100%;\r\n  text-align: center;\r\n  color: ${props => props.theme.$subText}\r\n`\r\nconst Summary: React.FC = () => {\r\n  const [showMonth, toggleMonth] = useState(false)\r\n  const [showFilter, toggleFilter] = useState(false)\r\n  const [showMoney, toggleMoney] = useState(false)\r\n\r\n  const [month, setMonth] = useState(dayjs())\r\n  const [filterId, setFilterId] = useState(ALL_TYPE)\r\n  const [filterType, setFilterType] = useState<TRecordType>('expense')\r\n  const {fetchData, addRawRecord, filterRecordList} = useRecordList()\r\n\r\n  const recordList = filterRecordList(filterId, month, filterType)\r\n  const [firstMonth] = recordList\r\n\r\n  const filter = ALL_CATEGORIES.find(c => c.id === filterId)\r\n\r\n  const closeMoney = () => {\r\n    fetchData()\r\n    toggleMoney(false)\r\n  }\r\n\r\n  const onAddRecord = (newRawRecord: TRawRecord) => {\r\n    addRawRecord(newRawRecord)\r\n\r\n    alert('已添加该记录')\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <FilterWrapper>\r\n        <section>\r\n          <TypeButton onClick={() => toggleFilter(true)}>\r\n            <span>{filter ? filter.name : '全部类型'}</span>\r\n            <Divider color=\"#68C895\"/>\r\n            <Icon color=\"#edf5ed\" name=\"application\"/>\r\n          </TypeButton>\r\n        </section>\r\n\r\n        <MonthFilterSection>\r\n          <MonthButton onClick={() => toggleMonth(true)}>\r\n            <span style={{marginRight: 4}}>{month.format(MONTH)}</span>\r\n            <Icon color=\"#A0D8BB\" name=\"drop-down\"/>\r\n          </MonthButton>\r\n          <span style={{marginRight: 12}}>\r\n            总支出￥{firstMonth ? firstMonth.expenseTotal.toFixed(2) : '0.00'}\r\n          </span>\r\n          <span>\r\n            总收入￥{firstMonth ? firstMonth.incomeTotal.toFixed(2) : '0.00'}\r\n          </span>\r\n        </MonthFilterSection>\r\n      </FilterWrapper>\r\n\r\n      {\r\n        recordList.length !== 0 ?\r\n          <RecordList>\r\n            {\r\n              recordList.map(monthRecord => (\r\n                <MonthRecord key={monthRecord.month} monthRecord={monthRecord}/>\r\n              ))\r\n            }\r\n          </RecordList>\r\n          :\r\n          <Empty>暂无数据</Empty>\r\n      }\r\n\r\n      {/*记账*/}\r\n      <Sticker onClick={() => toggleMoney(true)}>\r\n        <Icon name=\"survey\" size={22} color={theme.$success}/>\r\n      </Sticker>\r\n\r\n      {/*选择月份*/}\r\n      {\r\n        showMonth &&\r\n        <Drawer title=\"请选择月份\" closeDrawer={() => toggleMonth(false)}>\r\n          <MonthPanel value={month} closeDrawer={()=> toggleMonth(false)} onSubmit={(newMonth => setMonth(newMonth))}/>\r\n        </Drawer>\r\n      }\r\n\r\n      {/*过滤 Category*/}\r\n      {\r\n        showFilter &&\r\n        <Drawer closeDrawer={() => toggleFilter(false)}>\r\n          <CategoryFilter value={filterId}\r\n                          recordType={filterType}\r\n                          closeDrawer={() => toggleFilter(false)}\r\n                          onSubmit={(id, type) => {\r\n                            setFilterId(id)\r\n                            setFilterType(type)\r\n                          }}/>\r\n        </Drawer>\r\n      }\r\n\r\n      {/*记账*/}\r\n      {\r\n        showMoney &&\r\n        <Drawer closeDrawer={closeMoney}>\r\n          <Money closeDrawer={closeMoney}\r\n                 onSubmit={onAddRecord}/>\r\n        </Drawer>\r\n      }\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Summary\r\n","import * as React from 'react';\r\nimport Layout from '../components/Layout';\r\nimport styled from 'styled-components';\r\nimport Icon from '../components/Icon';\r\nimport Drawer from '../components/Drawer';\r\nimport {useState} from 'react';\r\n\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`\r\n\r\nconst Item = styled.div`\r\n  padding-left: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  background: white;\r\n  >span{\r\n    padding: 16px 0;\r\n    margin-left: 16px;\r\n    font-size: 1.2em;\r\n    flex-grow: 1;\r\n  }\r\n  :active{\r\n    background: #d6d6d6;\r\n  }\r\n`\r\n\r\nconst QrCode = styled.div`\r\n  padding: 32px;\r\n  text-align: center;\r\n  >p{\r\n    font-size: ${props=> props.theme.$largeTextSize};\r\n  }\r\n  > img{\r\n    margin-top: 24px;\r\n    width: 200px;\r\n  }\r\n`\r\n\r\nconst Contact = styled.div`\r\n  padding: 24px;\r\n  text-align: center;\r\n  span, a {\r\n    font-size: ${props => props.theme.$largeTextSize};\r\n  }\r\n`\r\nconst Settings: React.FC = () => {\r\n  const [showQrCode, toggleQrcode] = useState(false)\r\n  const [showContact, toggleContact] = useState(false)\r\n\r\n  const github = 'https://github.com/tgbf2674/wx-cash'\r\n\r\n  return (\r\n    <Layout>\r\n      <Main>\r\n        <Item style={{marginBottom: 8}} onClick={() => toggleQrcode(true)}>\r\n          <Icon size={22} name=\"qrcode\" color=\"#ff9800\"/>\r\n          <span>把记账本推荐给朋友</span>\r\n        </Item>\r\n\r\n        <Item onClick={() => window.open(github, '_blank')}>\r\n          <Icon size={22} name=\"github\" color=\"black\"/>\r\n          <span style={{borderBottom: '1px solid #eee'}}>源码链接，欢迎Star</span>\r\n        </Item>\r\n\r\n        <Item onClick={() => toggleContact(true)}>\r\n          <Icon size={22} name=\"message\" color=\"#03a9f4\"/>\r\n          <span>联系我</span>\r\n        </Item>\r\n      </Main>\r\n\r\n      {\r\n        showQrCode &&\r\n        <Drawer closeDrawer={() => toggleQrcode(false)}>\r\n          <QrCode>\r\n            <p>扫一下面二维码以分享该记账本</p>\r\n            <img src={require('../assets/img/qrcode.png')} alt=\"网站二维码\"/>\r\n          </QrCode>\r\n        </Drawer>\r\n      }\r\n\r\n      {\r\n        showContact &&\r\n        <Drawer closeDrawer={() => toggleContact(false)}>\r\n          <Contact>\r\n            <span style={{marginRight: 8}}>我的邮箱：</span>\r\n            <a href=\"mailto:tgbf2020@163.com\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n              tgbf2020@163.com\r\n            </a>\r\n          </Contact>\r\n        </Drawer>\r\n      }\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Settings\r\n","import * as React from 'react';\r\nimport Category from './Category';\r\nimport dayjs from 'dayjs';\r\nimport {FULL_TIME} from '../lib/date';\r\nimport {TRawRecord} from '../hooks/useRecordList';\r\nimport {DEFAULT_EXPENSE_CATEGORIES} from '../lib/category';\r\nimport styled from 'styled-components';\r\nimport Divider from './Dividier';\r\nimport Icon from './Icon';\r\n\r\ntype TProps ={\r\n  rawRecord: TRawRecord\r\n  onDelete: (id:string)=> void\r\n  onEdit: ()=> void\r\n}\r\n\r\nconst StyledRecordDetails = styled.div`\r\n  padding: 16px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  h3 {\r\n    margin: 16px 0;\r\n    font-size: 2.4em;\r\n    font-weight: normal;\r\n    letter-spacing: 1px;\r\n  }\r\n`\r\n\r\nconst CategorySection = styled.section`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-top: 12px;\r\n`\r\n\r\nconst DetailsTable = styled.table`\r\n  margin-bottom: 16px;\r\n  text-align: left;\r\n  border-spacing: 8px;\r\n  td:first-child {\r\n    color: ${props => props.theme.$subText};\r\n    padding-right: 12px;\r\n  }\r\n`\r\n\r\nconst DeleteButton = styled.button`\r\n  color: ${props => props.theme.$danger};\r\n  svg {\r\n    fill: ${props => props.theme.$danger}\r\n  }\r\n`\r\n\r\nconst ActionSection = styled.section`\r\n  display: flex;\r\n  padding: 16px 0 0;\r\n  border-top: 1px solid #eee;\r\n  > button {\r\n    flex-grow: 1;\r\n    background: none;\r\n    border: none;\r\n  }\r\n`\r\n\r\nconst RecordDetails: React.FC<TProps> = (props)=>{\r\n  const {rawRecord,onDelete,onEdit} = props\r\n  const {id,amount,type,date,note,categoryId} = rawRecord\r\n\r\n  const category = DEFAULT_EXPENSE_CATEGORIES.find(c => c.id === categoryId)\r\n  if (!category) return <div>页面出错</div>\r\n  const deleteRecord = ()=>{\r\n    if(!window.confirm('删除后无法恢复,是否删除？'))return\r\n    onDelete(id)\r\n  }\r\n  return (\r\n    <StyledRecordDetails>\r\n      <CategorySection>\r\n        <Category category={category} recordType={type} size={14}/>\r\n        <span style={{marginLeft: 8}}>{category.name}</span>\r\n      </CategorySection>\r\n      <h3>\r\n        {type === 'expense' ? '-' : '+'}\r\n        {amount}\r\n      </h3>\r\n      <DetailsTable>\r\n        <tbody>\r\n        <tr>\r\n          <td>记录时间</td>\r\n          <td>{dayjs(date).format(FULL_TIME)}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>备注</td>\r\n          <td>{note}</td>\r\n        </tr>\r\n        </tbody>\r\n      </DetailsTable>\r\n      <ActionSection>\r\n        <DeleteButton onClick={deleteRecord}>\r\n          <Icon name=\"trash\"/>\r\n          <span style={{marginLeft: 8}}>删除</span>\r\n        </DeleteButton>\r\n        <Divider gap={0}/>\r\n        <button onClick={onEdit}>\r\n          <Icon name=\"edit\"/>\r\n          <span style={{marginLeft: 8}}>编辑</span>\r\n        </button>\r\n      </ActionSection>\r\n    </StyledRecordDetails>\r\n  )\r\n}\r\n\r\nexport default RecordDetails\r\n","import * as React from 'react';\r\nimport {useHistory,useParams} from 'react-router-dom'\r\nimport styled from 'styled-components';\r\nimport useRecordList, {TRawRecord} from '../hooks/useRecordList';\r\nimport {useState} from 'react';\r\nimport Icon from '../components/Icon';\r\nimport Drawer from '../components/Drawer';\r\nimport Money from '../components/Money';\r\nimport RecordDetails from '../components/RecordDetails';\r\n\r\ntype TParams={\r\n  id: string\r\n}\r\n\r\nconst Header = styled.header`\r\n  padding: 24px 12px;\r\n`\r\n\r\nconst Main =styled.section`\r\n  padding: 0 12px;\r\n`\r\n\r\nconst Details: React.FC = ()=>{\r\n  const {goBack,push} = useHistory()\r\n  const {id} = useParams<TParams>()\r\n  const {rawRecordList,deleteRecord,editRecord} = useRecordList()\r\n  let [showMoney,toggleMoney] = useState(false)\r\n  const rawRecord = rawRecordList.find(r=> r.id=== id)\r\n  if(!rawRecord) return <div>页面出错</div>\r\n  const onDelete = (id: string) => {\r\n    deleteRecord(id)\r\n\r\n    push('/')\r\n\r\n    alert('删除成功')\r\n  }\r\n\r\n  const onEdit = (rawRecord: TRawRecord) => {\r\n    editRecord(rawRecord)\r\n    alert('修改成功')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <Icon name=\"left\" onClick={goBack} size={24}/>\r\n      </Header>\r\n\r\n      <Main>\r\n        <RecordDetails onDelete={onDelete}\r\n                       onEdit={() => toggleMoney(showMoney=true)}\r\n                       rawRecord={rawRecord}/>\r\n      </Main>\r\n\r\n      {/*记账*/}\r\n      {\r\n        showMoney &&\r\n        <Drawer closeDrawer={() => toggleMoney(showMoney=false)}>\r\n          <Money closeDrawer={() => toggleMoney(showMoney=false)}\r\n                 value={rawRecord}\r\n                 onSubmit={onEdit}/>\r\n        </Drawer>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Details\r\n","import * as React from 'react'\r\nimport theme from '../theme'\r\nimport styled from 'styled-components'\r\n\r\ntype TProps = {\r\n  value: number\r\n  height?: number\r\n  width?: number\r\n  color?: string\r\n}\r\n\r\ntype TBar = {\r\n  height: number\r\n  width: number\r\n}\r\n\r\ntype TProgress = {\r\n  color: string\r\n  progress: number\r\n}\r\n\r\nconst StyledProgressBar = styled.span`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst Text = styled.span`\r\n  margin-right: 4px;\r\n  font-size: ${props => props.theme.$subText};\r\n  color: ${props => props.theme.$subText};\r\n`\r\n\r\nconst Bar = styled.div<TBar>`\r\n  position: relative;\r\n  height: ${props => props.height + 'px'};\r\n  width: ${props => props.width + 'px'};\r\n  background: #E5E5E5;\r\n  border-radius: 16px;\r\n`\r\n\r\nconst Progress = styled.div<TProgress>`\r\n  position: absolute;\r\n  left: 0;\r\n  height: 100%;\r\n  width: ${props => props.progress + '%'};\r\n  border-radius: 16px;\r\n  background: ${props => props.color};\r\n`\r\n\r\nconst ProgressBar: React.FC<TProps> = (props) => {\r\n  const {value, width, height, color} = props\r\n\r\n  return (\r\n    <StyledProgressBar>\r\n      <Text>{(value * 100).toFixed(2)}%</Text>\r\n      <Bar width={width!} height={height!}>\r\n        <Progress progress={value * 100} color={color!}/>\r\n      </Bar>\r\n    </StyledProgressBar>\r\n  )\r\n}\r\n\r\nProgressBar.defaultProps = {\r\n  value: 0.00,\r\n  color: theme.$success,\r\n  width: 200,\r\n  height: 8\r\n}\r\n\r\nexport default ProgressBar\r\n","import * as React from 'react';\r\nimport {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from '../../components/Button';\r\nimport {parseMonthRecord,TMonthRecord,TRawRecord,TRecordType} from '../../hooks/useRecordList';\r\nimport {ALL_CATEGORIES} from '../../lib/category';\r\nimport Category, {TCategory} from '../../components/Category';\r\nimport ProgressBar from '../../components/ProgressBar';\r\nimport theme from '../../theme';\r\n\r\ntype TProps = {\r\n  monthRecord?: TMonthRecord\r\n}\r\n\r\ntype TClass = {\r\n  amount: number\r\n  category: TCategory\r\n  ratio: number\r\n}\r\n\r\nconst Section = styled.section`\r\n  padding: 24px 0;\r\n  background: white;\r\n`\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  > span {\r\n    font-size: ${props => props.theme.$mainTextSize};\r\n  }\r\n`\r\n\r\nconst ClassList = styled.ul`\r\n  margin-top: 32px;\r\n  list-style: none;\r\n`\r\n\r\nconst ClassItem = styled.li`\r\n  display: flex;\r\n  margin-bottom: 24px;\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n  \r\n  > span {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    &.ratio {\r\n      padding-right: 16px;\r\n      justify-content: flex-end;\r\n      text-align: right;\r\n      flex-grow: 1;\r\n    }\r\n  }\r\n`\r\n\r\nconst Empty = styled.div`\r\n  margin-top: 32px;\r\n  text-align: center;\r\n  color: ${props => props.theme.$subText};\r\n`\r\n\r\nconst classify = (rawRecordList: TRawRecord[]) => {\r\n  let classified: { [key: string]: TClass } = {}\r\n  let total = 0\r\n\r\n  rawRecordList.forEach(r => {\r\n    const {categoryId} = r\r\n\r\n    if (!(categoryId in classified)) {\r\n      classified[categoryId] = {\r\n        amount: 0,\r\n        category: ALL_CATEGORIES.find(c => c.id === categoryId)!,\r\n        ratio: 0.0\r\n      }\r\n    }\r\n\r\n    total += r.amount\r\n\r\n    classified[categoryId].amount += r.amount\r\n    classified[categoryId].ratio = classified[categoryId].amount / total\r\n  })\r\n\r\n  // 计算 ratio\r\n  Object.values(classified).forEach(c => c.ratio = c.amount / total)\r\n\r\n  return Object.values(classified).sort((a, b) => b.ratio - a.ratio)\r\n}\r\n\r\nconst CategorySection: React.FC<TProps> = (props)=>{\r\n  const {monthRecord} = props\r\n  const [type,setType] = useState<TRecordType>('expense')\r\n  const rawRecordList = monthRecord? parseMonthRecord(monthRecord).filter(r=> r.type === type) :[]\r\n  const classified = classify(rawRecordList)\r\n  return (\r\n    <Section>\r\n      <Header>\r\n        <span>收支构成</span>\r\n        <span>\r\n          <Button recordType={type === 'expense' ? 'success' : 'none'} size=\"small\" onClick={()=>setType('expense')}>\r\n            支出\r\n          </Button>\r\n          <Button recordType={type === 'income' ? 'warning' : 'none'} size=\"small\" onClick={()=>setType('income')}>\r\n            支出\r\n          </Button>\r\n        </span>\r\n      </Header>\r\n      {\r\n        classified.length !== 0 ?\r\n          <ClassList>\r\n            {classified.map(({category, amount, ratio}) => (\r\n              <ClassItem key={category.id}>\r\n                <span className=\"category\">\r\n                  <Category category={category} recordType={type} size={14}/>\r\n                  <span style={{marginLeft: 8}}>{category.name}</span>\r\n                </span>\r\n                <span className=\"ratio\">\r\n                  <ProgressBar color={type === 'expense' ? theme.$success : theme.$warning}\r\n                               value={ratio}\r\n                               width={110}\r\n                               height={6}/>\r\n                </span>\r\n                <span className=\"amount\">\r\n                  ￥{amount.toFixed(2)}\r\n                </span>\r\n              </ClassItem>\r\n            ))}\r\n          </ClassList>\r\n          :\r\n          <Empty>暂无数据</Empty>\r\n      }\r\n    </Section>\r\n  )\r\n}\r\n\r\nexport default CategorySection\r\n","import * as React from 'react';\r\nimport Divider from '../../components/Dividier';\r\nimport theme from '../../theme';\r\nimport Icon from '../../components/Icon';\r\nimport styled from 'styled-components';\r\nimport {TMonthRecord} from '../../hooks/useRecordList';\r\nimport {Dayjs} from 'dayjs';\r\nimport {MONTH} from '../../lib/date';\r\n\r\ntype TProps={\r\n  showMonth: ()=> void\r\n  month: Dayjs\r\n  monthRecord?: TMonthRecord\r\n}\r\n\r\nconst Section = styled.section`\r\n  padding: 32px 0;\r\n  text-align: center;\r\n  background: white;\r\n`\r\n\r\nconst MonthFilter = styled.button`\r\n  padding: 8px 16px;\r\n  background: #F7F7F7;\r\n  border-radius: 4px;\r\n  color: ${props => props.theme.$normalText}\r\n`\r\n\r\nconst ExpenseTitle = styled.p`\r\n  margin: 20px 0 4px;\r\n  color: ${props => props.theme.$success};\r\n`\r\n\r\nconst Expense = styled.p`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n  span {\r\n    font-weight: 500;\r\n    font-size: 1.4em;\r\n    color: ${props => props.theme.$success};\r\n    &.money {\r\n      font-size: 2.2em;\r\n    }\r\n  }\r\n`\r\n\r\nconst Income = styled.p`\r\n  color: ${props => props.theme.$subText}\r\n`\r\n\r\nconst MonthFilterSection: React.FC<TProps> = (props) => {\r\n  const {showMonth, month, monthRecord} = props\r\n\r\n  return (\r\n    <Section>\r\n      <MonthFilter onClick={showMonth}>\r\n        <span>{month.format(MONTH)}</span>\r\n        <Divider gap={8} color={theme.$placeholder}/>\r\n        <Icon color={theme.$normalText} name=\"drop-down\"/>\r\n      </MonthFilter>\r\n\r\n      <ExpenseTitle>共支出</ExpenseTitle>\r\n\r\n      <Expense>\r\n        <span>￥</span>\r\n        <span className=\"money\">\r\n          {monthRecord ? monthRecord.expenseTotal.toFixed(2) : '0.00'}\r\n        </span>\r\n      </Expense>\r\n\r\n      <Income>\r\n        共收入￥{monthRecord ? monthRecord.incomeTotal.toFixed(2) : '0.00'}\r\n      </Income>\r\n    </Section>\r\n  )\r\n}\r\n\r\nexport default MonthFilterSection\r\n","import theme from '../theme'\r\nimport {TRecordType} from '../hooks/useRecordList'\r\n\r\nexport const barChart = (xData: any[], yData: any[], type: TRecordType, unit: string) => {\r\n  const color = type === 'expense' ? theme.$success : theme.$warning\r\n  const name = type === 'expense' ? '支出' : '收入'\r\n\r\n  return {\r\n    tooltip: {\r\n      show: true,\r\n      trigger: 'item',\r\n      axisPointer: {\r\n        type: 'shadow',\r\n        axis: 'auto',\r\n      },\r\n      padding: 5,\r\n      textStyle: {\r\n        color: '#eee'\r\n      },\r\n    },\r\n    xAxis: {\r\n      axisLabel: {\r\n        formatter: `{value}\\n${unit}`,\r\n        textStyle: {\r\n          color: theme.$subText\r\n        }\r\n      },\r\n      data: xData\r\n    },\r\n    yAxis: {\r\n      show: false\r\n    },\r\n    series: [\r\n      {\r\n        type: 'bar',\r\n        name,\r\n        data: yData,\r\n        label: {\r\n          show: true,\r\n          position: 'top',\r\n          color,\r\n          formatter: (data: any) => data.value === 0 ? '' : `￥${data.value.toFixed(2)}`\r\n        },\r\n        itemStyle: {\r\n          color,\r\n        },\r\n        barMinHeight: 4\r\n      }\r\n    ]\r\n  }\r\n}\r\n","import * as React from 'react';\r\nimport {useState} from 'react';\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport styled from 'styled-components';\r\nimport Button from '../../components/Button';\r\nimport {parseMonthRecord, TMonthRecord, TRawRecord, TRecordType} from '../../hooks/useRecordList';\r\nimport dayjs, {Dayjs} from 'dayjs';\r\nimport {getDaysInMonth} from '../../lib/date';\r\nimport {barChart} from '../../lib/chart';\r\n\r\ntype TProps = {\r\n  month: Dayjs\r\n  monthRecord?: TMonthRecord\r\n}\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  > span {\r\n    font-size: ${props => props.theme.$mainTextSize};\r\n  }\r\n`;\r\n\r\nconst Main = styled.div`\r\n  margin: 0 -24px;\r\n`;\r\n\r\nconst getYData = (days: number[], rawRecordList: TRawRecord[]) => {\r\n  return days.map(d => {\r\n    const record = rawRecordList.find(r => dayjs(r.date).get('date') === d);\r\n    return record ? record.amount : 0.00;\r\n  });\r\n};\r\n\r\nconst DayAnalysis: React.FC<TProps> = (props) => {\r\n  const {month, monthRecord} = props;\r\n  const [type, setType] = useState<TRecordType>('expense');\r\n  const rawRecordList = monthRecord ? parseMonthRecord(monthRecord).filter(r => r.type === type) : [];\r\n\r\n  const xDayData = getDaysInMonth(month);\r\n  const yDayData = getYData(xDayData, rawRecordList);\r\n  const dayChartOptions = barChart(xDayData, yDayData, type, '号');\r\n\r\n  return (\r\n    <section>\r\n      <Header>\r\n        <span>每日对比</span>\r\n\r\n        <span>\r\n          <Button recordType={type === 'expense' ? 'success' : 'none'}\r\n                  size=\"small\"\r\n                  onClick={() => setType('expense')}>\r\n            支出\r\n          </Button>\r\n          <Button recordType={type === 'income' ? 'warning' : 'none'}\r\n                  size=\"small\"\r\n                  onClick={() => setType('income')}>\r\n            收入\r\n          </Button>\r\n        </span>\r\n      </Header>\r\n\r\n      <Main>\r\n        <ReactEcharts option={dayChartOptions}/>\r\n      </Main>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default DayAnalysis\r\n","import * as React from 'react'\r\nimport {parseMonthRecord, TMonthRecord, TRecordType} from '../../hooks/useRecordList'\r\nimport {getPrevMonths} from '../../components/MonthPanel';\r\nimport {Dayjs} from 'dayjs';\r\nimport {MONTH} from '../../lib/date';\r\nimport Button from '../../components/Button';\r\nimport {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport {barChart} from '../../lib/chart';\r\n\r\ntype TProps={\r\n  getMonthRecord: (month: string) => TMonthRecord|undefined\r\n}\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  > span {\r\n    font-size: ${props => props.theme.$mainTextSize};\r\n  }\r\n`\r\n\r\nconst Main = styled.div`\r\n  margin: 0 -24px;\r\n`\r\n\r\nconst getYData = (months: Dayjs[], getMonthRecord: Function) => {\r\n  return months.map(m => {\r\n    const monthRecord = getMonthRecord(m.format(MONTH))\r\n    // 没有就为 0\r\n    if (!monthRecord) return 0\r\n\r\n    // 计算总数\r\n    let total = 0\r\n    parseMonthRecord(monthRecord).forEach(r => total += r.amount)\r\n\r\n    return total\r\n  })\r\n}\r\n\r\n\r\nconst MonthAnalysis: React.FC<TProps> = (props) => {\r\n  const {getMonthRecord} = props\r\n\r\n  const [type, setType] = useState<TRecordType>('expense')\r\n\r\n  // 每月对比\r\n  const months = getPrevMonths()\r\n  const xData = months.map(m => m.get('month'))\r\n  const yData = getYData(months, getMonthRecord)\r\n\r\n  const monthChartOptions = barChart(xData, yData, type, '月')\r\n\r\n  return (\r\n    <div>\r\n      <Header>\r\n        <span>月度对比</span>\r\n\r\n        <span>\r\n          <Button recordType={type === 'expense' ? 'success' : 'none'}\r\n                  size=\"small\"\r\n                  onClick={() => setType('expense')}>\r\n            支出\r\n          </Button>\r\n          <Button recordType={type === 'income' ? 'warning' : 'none'}\r\n                  size=\"small\"\r\n                  onClick={() => setType('income')}>\r\n            收入\r\n          </Button>\r\n        </span>\r\n      </Header>\r\n\r\n      <Main>\r\n        <ReactEcharts option={monthChartOptions}/>\r\n      </Main>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MonthAnalysis\r\n","import * as React from 'react';\r\nimport Layout from '../../components/Layout';\r\nimport styled from 'styled-components';\r\nimport Drawer from '../../components/Drawer';\r\nimport MonthPanel from '../../components/MonthPanel';\r\nimport dayjs, {Dayjs} from 'dayjs';\r\nimport useRecordList from '../../hooks/useRecordList';\r\nimport {MONTH} from '../../lib/date';\r\nimport Divider from '../../components/Dividier';\r\nimport {useState} from 'react';\r\nimport CategorySection from './CategorySection';\r\nimport MonthFilterSection from './MonthFilterSection';\r\nimport DayAnalysis from './DayAnalysis';\r\nimport MonthAnalysis from './MonthAnalysis';\r\nconst StyledAnalysis = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`\r\n\r\nconst Main = styled.section`\r\n  margin-top: 8px;\r\n  background: white;\r\n  padding: 24px;\r\n`\r\nconst Analysis: React.FC = () => {\r\n  const [showMonth, toggleMonth] = useState(false)\r\n  const [month, setMonth] = useState(dayjs())\r\n\r\n  const {getMonthRecord} = useRecordList()\r\n\r\n  // 选中的 month record\r\n  const selectedRecordList = getMonthRecord(month.format(MONTH))\r\n\r\n  return (\r\n    <Layout>\r\n      <StyledAnalysis>\r\n        <MonthFilterSection monthRecord={selectedRecordList} month={month} showMonth={()=> toggleMonth(true)} />\r\n        <Main>\r\n          <CategorySection monthRecord={selectedRecordList}/>\r\n\r\n          <Divider direction=\"horizontal\" gap={24}/>\r\n          <DayAnalysis monthRecord={selectedRecordList} month={month}/>\r\n\r\n          <Divider direction=\"horizontal\" gap={24}/>\r\n          <MonthAnalysis getMonthRecord={getMonthRecord} />\r\n        </Main>\r\n      </StyledAnalysis>\r\n\r\n\r\n      {/*选择月份*/}\r\n      {\r\n        showMonth &&\r\n        <Drawer title=\"请选择月份\" closeDrawer={() => toggleMonth(false)}>\r\n          <MonthPanel value={month}\r\n                      closeDrawer={() => toggleMonth(false)}\r\n                      onSubmit={(newMonth: Dayjs) => setMonth(newMonth)}/>\r\n        </Drawer>\r\n      }\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default Analysis\r\n","import React, {useEffect, useState} from 'react';\nimport styled, {ThemeProvider} from 'styled-components';\nimport Summary from './pages/Summary';\nimport Settings from './pages/Settings';\nimport Details from './pages/Details';\nimport Analysis from './pages/Analysis/Analysis';\nimport theme from './theme'\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\n\ntype TStyledApp = {\n  height: number\n}\nconst StyledApp = styled.div<TStyledApp>`\n  position: relative;\n  max-width: 480px;\n  margin: 0 auto;\n  background: #EDEDED;\n  height: ${props => props.height + 'px'}\n`\n\nconst App: React.FC=()=>{\n  const [height,setHeight] = useState(window.innerHeight)\n  const onResize= ()=>{\n    setHeight(window.innerHeight* 0.01)\n  }\n  useEffect(()=>{\n    window.addEventListener('resize',onResize)\n    return window.removeEventListener('resize',onResize)\n  })\n  return(\n    <ThemeProvider theme={theme}>\n      <Router>\n        <StyledApp height={height}>\n          <Switch>\n            <Route exact path=\"/\">\n              <Summary/>\n            </Route>\n            <Route path=\"/analysis\">\n              <Analysis/>\n            </Route>\n            <Route path=\"/settings\">\n              <Settings/>\n            </Route>\n            <Route path=\"/record/:id\">\n              <Details/>\n            </Route>\n          </Switch>\n        </StyledApp>\n      </Router>\n    </ThemeProvider>\n  )\n}\n\nexport default App;\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './assets/styles/global.scss'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'))\r\n"],"sourceRoot":""}