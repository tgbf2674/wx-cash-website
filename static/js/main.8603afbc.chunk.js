(this["webpackJsonpwx-cash"]=this["webpackJsonpwx-cash"]||[]).push([[0],{244:function(e,n,t){},555:function(e,n,t){"use strict";t.r(n);var r=t(2),c=t(235),i=t.n(c),o=(t(244),t(10)),a=t(5),s=t(3),d=t(22),l=t(108),j={$white:"#edf5ed",$success:"#40B475",$danger:"#F76361",$warning:"#F0B739",$linkText:"#576F96",$mainText:"#303133",$normalText:"#606266",$subText:"#909399",$placeholder:"#C0C4CC",$largeTextSize:"18px",$mainTextSize:"16px",$normalTextSize:"14px",$smallTextSize:"12px"},b=t(0),u=s.b.svg((function(e){return{width:e.size,height:e.size,fill:e.color}})),x=function(e){var n=e.name,t=e.color,r=e.size,c=Object(l.a)(e,["name","color","size"]);return Object(b.jsx)(u,Object(d.a)(Object(d.a)({size:r,color:t,className:"icon","aria-hidden":"true"},c),{},{children:Object(b.jsx)("use",{xlinkHref:"#icon-".concat(n)})}))};x.defaultProps={size:16,color:j.$normalText};var h=x,p=s.b.span((function(e){return{borderRight:"1px solid",margin:"0 ".concat(e.gap,"px"),borderColor:e.color}})),f=s.b.div((function(e){return{borderBottom:"1px solid",margin:"".concat(e.gap,"px 0"),borderColor:e.color}})),O=function(e){return"horizontal"===e.direction?Object(b.jsx)(f,Object(d.a)({},e)):Object(b.jsx)(p,Object(d.a)({},e))};O.defaultProps={gap:16,color:"#eee",direction:"vertical"};var m,g,y=O,w=s.b.span(m||(m=Object(a.a)(["\n  width: 1.5em;\n  height: 1.5em;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  margin: 4px;\n  background: #f4f4f4;\n  color: ",";\n  font-size: "," !important;\n  border-radius: 4px;\n"])),(function(e){return e.theme.$subText}),(function(e){return e.theme.$smallTextSize})),A=function(e){return Object(b.jsx)(w,{children:e.children})},v={none:{background:"#ECECEC",fill:"#C7C7C7"},expense:{background:j.$success,fill:"white"},income:{background:j.$warning,fill:"white"}},C="-1",T=[{id:"0",name:"\u5176\u4ed6",iconName:"rmb"},{id:"1",name:"\u8863\u670d",iconName:"clothes"},{id:"2",name:"\u8d2d\u7269",iconName:"bag"},{id:"3",name:"\u4ea4\u901a",iconName:"bus"},{id:"4",name:"\u9910\u996e",iconName:"rice"},{id:"5",name:"\u65c5\u884c",iconName:"luggage"},{id:"6",name:"\u80a1\u7968",iconName:"stock"},{id:"7",name:"\u6c34\u7535\u5a92",iconName:"water-drop"},{id:"8",name:"\u4fe1\u7528\u5361",iconName:"card"},{id:"9",name:"\u5de5\u8d44",iconName:"salary"},{id:"10",name:"\u8f6c\u8d26",iconName:"transfer"}],z=T[0],k=T[1],S=T[2],E=T[3],$=T[4],D=T[5],I=T[6],B=T[7],Y=T[8],G=T[9],R=[Y,G,I,z],F=[k,S,E,$,D,I,B,G,z],N=s.b.span(g||(g=Object(a.a)(["\n  padding: 8px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  background: ",";\n  border-radius: 50%;\n  svg {\n    fill: ","\n  }\n"])),(function(e){return e.background}),(function(e){return e.fill})),Q=function(e){var n=e.category,t=e.recordType,r=e.size,c=v[t];return Object(b.jsx)(N,Object(d.a)(Object(d.a)({},c),{},{children:Object(b.jsx)(h,{name:n.iconName,size:r})}))};Q.defaultProps={size:24};var L,M,P,V,W,q,J,Z,K,U,X=Q,H=t(15),_=t.n(H),ee=t(46),ne="YYYY\u5e74MM\u6708",te=t(56),re=Object(s.b)(te.b)(L||(L=Object(a.a)(["\n  padding: 24px 18px;\n  display: flex;\n  color: ",";\n  text-decoration: none;\n  .record-content {\n    flex-grow: 1;\n    padding: 0 16px;\n    &-details {\n      color: ",";\n      > span {\n        font-size: ","\n      }\n    }\n    &-amount {\n      font-size: ",";\n    }\n  }\n"])),(function(e){return e.theme.$normalText}),(function(e){return e.theme.$placeholder}),(function(e){return e.theme.$smallTextSize}),(function(e){return e.theme.$mainTextSize})),ce=function(e){var n=e.record,t=n.id,r=n.date,c=n.amount,i=n.categoryId,o=n.note,a=n.type,s=F.find((function(e){return e.id===i})),d=_()(r).format("hh:mm");return Object(b.jsxs)(re,{to:"/record/".concat(t),children:[Object(b.jsx)(X,{category:s,recordType:a}),Object(b.jsxs)("div",{className:"record-content",children:[Object(b.jsx)("div",{children:s&&s.name}),Object(b.jsxs)("div",{className:"record-content-details",children:[Object(b.jsx)("span",{children:d}),Object(b.jsx)(y,{gap:8}),Object(b.jsx)("span",{children:o})]})]}),Object(b.jsxs)("div",{className:"record-content-amount",children:["income"===a?"+":"-",c.toFixed(2)]})]})},ie=s.b.ul(M||(M=Object(a.a)(["\n  border-radius: 8px;\n  margin-bottom: 8px;\n  background: white;\n  color: ",";\n  overflow: hidden;\n  &:last-child{\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.$mainText})),oe=s.b.header(P||(P=Object(a.a)(["\n  padding: 24px 18px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #fbfbfb;\n  span{\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.$mainTextSize})),ae=s.b.section(V||(V=Object(a.a)([""]))),se=s.b.section(W||(W=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  > span {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.$normalText}),(function(e){return e.theme.$normalTextSize})),de=function(e){var n=e.dayRecord,t=n.day,r=n.expenseTotal,c=n.incomeTotal,i=n.recordList;return Object(b.jsxs)(ie,{children:[Object(b.jsxs)(oe,{children:[Object(b.jsxs)(ae,{children:[Object(b.jsx)("span",{style:{marginRight:8},children:t}),Object(b.jsx)("span",{children:"\u661f\u671f\u4e8c"})]}),Object(b.jsxs)(se,{children:[Object(b.jsx)(A,{children:"\u652f"}),Object(b.jsx)("span",{style:{marginRight:4},children:r.toFixed(2)}),Object(b.jsx)(A,{children:"\u6536"}),Object(b.jsx)("span",{style:{marginRight:4},children:c.toFixed(2)}),Object(b.jsx)(A,{children:"\u603b"}),Object(b.jsx)("span",{style:{marginRight:4},children:c-r})]})]}),Object(b.jsx)("ul",{children:i&&i.map((function(e){return Object(b.jsx)(ce,{record:e},e.id)}))})]})},le=s.b.div(q||(q=Object(a.a)(["\n  padding: 8px 18px;\n  \n  > span {\n    font-size: ",";\n    color: ","\n  }\n"])),(function(e){return e.theme.$normalTextSize}),(function(e){return e.theme.$subText})),je=s.b.ul(J||(J=Object(a.a)(["\n"]))),be=function(e){var n=e.monthRecord,t=n.month,r=n.recordList,c=n.incomeTotal,i=n.expenseTotal,o=_()().format(ne);return Object(b.jsxs)(je,{children:[o!==t&&Object(b.jsxs)(le,{children:[Object(b.jsx)("span",{children:t}),Object(b.jsx)(y,{gap:8}),Object(b.jsxs)("span",{style:{marginRight:12},children:["\u603b\u652f\u51fa\uffe5",i.toFixed(2)]}),Object(b.jsxs)("span",{children:["\u603b\u6536\u5165\uffe5",c.toFixed(2)]})]}),Object(b.jsx)("ul",{children:r&&r.map((function(e){return Object(b.jsx)(de,{dayRecord:e},e.day)}))})]})},ue=[{id:"1",date:_()("2021-09-04").toISOString(),categoryId:"4",amount:300,note:"\u5403\u9ec4\u7116\u9e21\u7c73\u996d",type:"expense"},{id:"2",date:_()("2021-08-04").toISOString(),categoryId:"9",amount:400,note:"\u5de5\u8d44",type:"income"},{id:"3",date:_()("2021-08-03").toISOString(),categoryId:"1",amount:200,note:"\u4e70\u8863\u670d",type:"expense"},{id:"4",date:_()("2021-08-03").toISOString(),categoryId:"5",amount:500,note:"\u53bb\u5df4\u54c8\u9a6c",type:"expense"}],xe=function(e,n){var t=_()(n.date).format(ne),r=_()(n.date).format("MM\u6708DD\u65e5"),c=e.find((function(e){return e.month===t}));c||(c={month:t,incomeTotal:0,expenseTotal:0,recordList:[]},e.push(c));var i=c.recordList.find((function(e){return e.day===r}));i||(i={day:r,incomeTotal:0,expenseTotal:0,recordList:[]},c.recordList.push(i)),i.recordList.push(n),he(c,i,n)},he=function(e,n,t){var r=t.amount;"expense"===t.type?(n.expenseTotal+=r,e.expenseTotal+=r):(n.incomeTotal+=r,e.incomeTotal+=r)},pe=function(e,n){var t=JSON.parse(JSON.stringify(e));return n.forEach((function(e){xe(t,e)})),t},fe=function(e){var n=[];return e.recordList.forEach((function(e){return e.recordList.forEach((function(e){return n.push(e)}))})),n},Oe=function(){var e="rawRecordList",n=Object(r.useState)([]),t=Object(o.a)(n,2),c=t[0],i=t[1],a=Object(r.useState)([]),s=Object(o.a)(a,2),l=s[0],j=s[1];Object(r.useEffect)((function(){return b()}),[]);var b=function(){var n=window.localStorage.getItem(e),t=n?JSON.parse(n):ue;i(t),j(pe([],t))};return{rawRecordList:c,setRawRecordList:i,recordList:l,appendRecord:xe,bulkAppendRecords:pe,addRawRecord:function(n){var t=[n].concat(Object(ee.a)(c));window.localStorage.setItem(e,JSON.stringify(t)),i(t),j(pe([],t))},getMonthRecord:function(e){return l.find((function(n){return n.month===e}))},fetchData:b,filterRecordList:function(e,n,t){var r=c.filter((function(n){return e===C||n.type===t&&n.categoryId===e})).filter((function(e){return!!n.isSame(_()(),"month")||_()(e.date).isSame(n,"month")}));return pe([],r)},deleteRecord:function(n){var t=c.filter((function(e){return e.id!==n}));window.localStorage.setItem(e,JSON.stringify(t)),i(t),j(pe([],t))},editRecord:function(n){var t=JSON.parse(JSON.stringify(c)),r=-1;t.some((function(e,t){return e.id===n.id&&(r=t,!0)}));var o=[].concat(Object(ee.a)(t.slice(0,r)),[Object(d.a)({},n)],Object(ee.a)(t.slice(r+1)));window.localStorage.setItem(e,JSON.stringify(o)),i(o),j(pe([],o))}}},me=s.b.div(Z||(Z=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 128px;\n  right: 32px;\n  width: 50px;\n  height: 50px;\n  background: white;\n  box-shadow: 0 2px 24px -6px ",";\n  z-index: 3;\n  border-radius: 50%;\n"])),(function(e){return e.theme.$normalText})),ge=function(e){var n=e.onClick;return Object(b.jsx)(me,{onClick:n,children:e.children})},ye=s.b.div((function(e){return{position:"absolute",height:"100%",width:"100%",bottom:0,zIndex:4,background:"rgba(0, 0, 0, 0.5)"}})),we=s.b.header(K||(K=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px;\n  border-bottom: 1px solid #eee;\n  font-size: ",";\n  background:  #FAFAFA;\n"])),(function(e){return e.theme.$largeTextSize})),Ae=s.b.div(U||(U=Object(a.a)(["\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  z-index: 5;\n  border-radius: 8px 8px 0 0;\n  background: white;\n  overflow: hidden;\n"]))),ve=function(e){var n=e.title,t=e.closeDrawer;return Object(b.jsx)(ye,{onClick:t,children:Object(b.jsxs)(Ae,{onClick:function(e){return e.stopPropagation()},children:[Object(b.jsxs)(we,{children:[Object(b.jsx)(h,{onClick:t,name:"close",size:18}),Object(b.jsx)("span",{children:n}),Object(b.jsx)(h,{name:"close",color:"transparent"})]}),e.children]})})};ve.defaultProps={title:""};var Ce=ve,Te={success:{background:j.$success,borderColor:j.$success,color:"white"},warning:{background:j.$warning,borderColor:j.$warning,color:"white"},none:{background:"#f1f1f1",borderColor:"#f1f1f1",color:j.$subText}},ze={small:{padding:"2px 8px",fontsize:j.$smallTextSize},normal:{padding:"4px 12px"}},ke=s.b.button((function(e){return Object(d.a)(Object(d.a)({display:"inline-flex",alignItems:"center",justifyContent:"center",outline:"none",borderRight:"16px",marginRight:"8px",border:"1px solid",borderRadius:"4px"},Te[e.recordType]),ze[e.size])})),Se=function(e){var n=e.recordType,t=e.size,r=Object(l.a)(e,["recordType","size"]);return Object(b.jsx)(ke,Object(d.a)(Object(d.a)({},r),{},{recordType:n,size:t,children:e.children}))};Se.defaultProps={recordType:"none",size:"normal"};var Ee,$e,De,Ie,Be,Ye,Ge,Re,Fe,Ne,Qe,Le,Me,Pe,Ve,We,qe,Je,Ze,Ke,Ue,Xe,He,_e,en,nn,tn,rn,cn,on,an,sn,dn,ln,jn,bn,un,xn,hn,pn,fn,On=Se,mn=s.b.div(Ee||(Ee=Object(a.a)(["\n  > button {\n    float: left;\n    width: 25%;\n    height: 64px;\n    background: white;\n    font-size: 1.3em;\n    outline: none;\n    border-radius: 8px;\n    border: 4px solid #FAFAFA;\n    &.zero {\n      width: 50%;\n    }\n    &.OK {\n      height: 192px;\n      float: right;\n      font-size: 1em;\n      color: white;\n      opacity: ",";\n      background: ",";\n    }\n  }\n"])),(function(e){return"0"===e.value?.6:1}),(function(e){var n=e.recordType,t=e.theme;return"expense"===n?t.$success:t.$warning})),gn=function(e){var n=e.value,t=e.onOK,r=e.onChange,c=e.recordType;return Object(b.jsxs)(mn,{recordType:c,value:n,className:"clearfix",onClick:function(e){var c=e.target.textContent;if(c){if("\u786e\u5b9a"===c)return t();if("DEL"===c)return function(){if("0"!==n)return 1===n.length?r("0"):void r(n.slice(0,-1))}();var i=function(e,n){var t=1e5;if(!/[\d.]/.test(n))return e;if(e.includes("."))return"."===n||isNaN(parseFloat(n))||e.split(".")[1].length>=2?e:e+n;if("0"===e)return"."===n?e+n:n;var r=e+n;return parseFloat(r)>t?(alert("\u8f93\u5165\u91d1\u989d\u4e0d\u80fd\u8d85\u8fc7".concat(t)),e):r}(n,c);r(i)}},children:[Object(b.jsx)("button",{children:"1"}),Object(b.jsx)("button",{children:"2"}),Object(b.jsx)("button",{children:"3"}),Object(b.jsx)("button",{children:"DEL"}),Object(b.jsx)("button",{children:"4"}),Object(b.jsx)("button",{children:"5"}),Object(b.jsx)("button",{children:"6"}),Object(b.jsx)("button",{className:"OK",children:"\u786e\u5b9a"}),Object(b.jsx)("button",{children:"7"}),Object(b.jsx)("button",{children:"8"}),Object(b.jsx)("button",{children:"9"}),Object(b.jsx)("button",{className:"zero",children:"0"}),Object(b.jsx)("button",{children:"."})]})},yn=s.b.section($e||($e=Object(a.a)(["\n  padding: 16px;\n  display: flex;\n  align-items: center;\n"]))),wn=s.b.section(De||(De=Object(a.a)(["\n  display: flex;\n  width: 90%;\n  margin: 0 auto;\n  border-bottom: 1px solid #eee;\n  justify-content: center;\n  align-items: center;\n\n  > span {\n    font-size: 2.5em;\n  }\n\n  > div {\n    padding-left: 8px;\n    flex-grow: 1;\n    display: flex;\n    align-items: center;\n    height: 64px;\n    justify-content: flex-end;\n    > span{\n      border: none;\n      outline: none;\n      font-size: 2em;\n    }\n  }\n"]))),An=s.b.ul(Ie||(Ie=Object(a.a)(["\n  padding: 24px;\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n  list-style: none;\n  &::-webkit-scrollbar {\n    width: 0px;\n    height: 0px;\n  }\n"]))),vn=s.b.li(Be||(Be=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: 16px;\n\n  &:last-child {\n    margin-right: 0;\n  }\n"]))),Cn=s.b.span(Ye||(Ye=Object(a.a)(["\n  font-size: .8em;\n  margin-top: 8px;\n  color: ",";\n  word-break: keep-all;\n"])),(function(e){return e.theme.$subText})),Tn=s.b.section(Ge||(Ge=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0 24px 24px;\n\n  > span {\n    margin-right: 8px;\n    color: ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.$linkText})),zn=s.b.section(Re||(Re=Object(a.a)(["\n  padding: 4px;\n  background: #fafafa;\n"]))),kn=function(e){var n=e.closeDrawer,t=e.onSubmit,c=e.value,i=c||{date:(new Date).toISOString(),id:(new Date).getTime().toString(),amount:0,categoryId:"1",note:"",type:"expense"},a=Object(r.useState)(i.note),s=Object(o.a)(a,2),l=s[0],j=s[1],u=Object(r.useState)(i.type),x=Object(o.a)(u,2),h=x[0],p=x[1],f=Object(r.useState)(i.categoryId),O=Object(o.a)(f,2),m=O[0],g=O[1],y=Object(r.useState)(i.amount),w=Object(o.a)(y,2),A=w[0],v=w[1],C=Object(r.useState)(i.amount.toString()),T=Object(o.a)(C,2),z=T[0],k=T[1],S="expense"===h?F:R;return Object(b.jsxs)("div",{children:[Object(b.jsxs)(yn,{children:[Object(b.jsx)(On,{recordType:"expense"===h?"success":"none",onClick:function(){return p("expense")},children:"\u652f\u51fa"}),Object(b.jsx)(On,{recordType:"income"===h?"warning":"none",onClick:function(){return p("income")},children:"\u6536\u5165"})]}),Object(b.jsxs)(wn,{children:[Object(b.jsx)("span",{children:"\uffe5"}),Object(b.jsx)("div",{children:Object(b.jsx)("span",{children:z})})]}),Object(b.jsx)(An,{children:S.map((function(e){return Object(b.jsxs)(vn,{onClick:function(){return g(e.id)},children:[Object(b.jsx)(X,{category:e,recordType:m===e.id?h:"none",size:20}),Object(b.jsx)(Cn,{children:e.name})]},e.id)}))}),Object(b.jsxs)(Tn,{children:[Object(b.jsx)("span",{onClick:function(){var e=prompt("\u6dfb\u52a0\u5907\u6ce8","")||"";if(e.length>20)return alert("\u4e0d\u80fd\u8d85\u8fc7".concat(20,"\u4e2a\u5b57"));j(e)},children:l?"\u4fee\u6539":"\u6dfb\u52a0\u5907\u6ce8"}),Object(b.jsx)("article",{children:l})]}),Object(b.jsx)(zn,{children:Object(b.jsx)(gn,{value:z,recordType:h,onChange:function(e){k(e),v(parseFloat(e))},onOK:function(){if(0===A)return alert("\u91d1\u989d\u4e0d\u80fd\u4e3a0");var e=Object(d.a)(Object(d.a)({},i),{},{amount:A,categoryId:m,note:l,type:h});t(e),n()}})})]})},Sn={expense:j.$success,income:j.$warning},En=s.b.section(Fe||(Fe=Object(a.a)(["\n  max-height: 48vh;\n  padding: 32px 16px;\n  background:  #FAFAFA;\n  overflow-y: auto;\n  .selected {\n    background: ",";\n    color: white;\n  }\n"])),(function(e){return e.theme.$success})),$n=s.b.p(Ne||(Ne=Object(a.a)(["\n  margin: 8px 0 8px 4px;\n  color: ",";\n"])),(function(e){return e.theme.$subText})),Dn=s.b.section(Qe||(Qe=Object(a.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]))),In=s.b.div(Le||(Le=Object(a.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 33.33333%;\n  padding: 16px;\n  border: 4px solid #FAFAFA;\n  border-radius: 6px;\n  font-size: 1.1em;\n  cursor: pointer;\n  background: ",";\n  color: ","\n"])),(function(e){return e.selected?Sn[e.recordType]:"white"}),(function(e){return e.selected?"white":e.theme.$normalText})),Bn=function(e){var n=e.value,t=e.recordType,r=e.closeDrawer,c=e.onSubmit,i=function(e,n){c(e,n),r()};return Object(b.jsxs)(En,{children:[Object(b.jsx)(In,{selected:n===C,recordType:"expense",onClick:function(){return i(C,"expense")},children:"\u5168\u90e8\u7c7b\u578b"}),Object(b.jsx)($n,{children:"\u652f\u51fa"}),Object(b.jsx)(Dn,{children:F.map((function(e){return Object(b.jsx)(In,{recordType:"expense",onClick:function(){return i(e.id,"expense")},selected:"expense"===t&&n===e.id,children:e.name},e.id)}))}),Object(b.jsx)($n,{children:"\u6536\u5165"}),Object(b.jsx)(Dn,{children:R.map((function(e){return Object(b.jsx)(In,{recordType:"income",onClick:function(){return i(e.id,"income")},selected:"income"===t&&n===e.id,children:e.name},e.id)}))})]})},Yn=t(19),Gn=s.b.div(Me||(Me=Object(a.a)(["\n  padding: 12px 0;\n  background: white;\n  box-shadow: 0px -2px 12px 0px rgba(192,196,204,.4);\n  z-index: 2;\n  a {\n    text-decoration: none;\n  }\n  .selected {\n    color: ","\n  }\n"])),(function(e){return e.theme.$success})),Rn=Object(s.b)(te.b)(Pe||(Pe=Object(a.a)(["\n  flex-grow: 1;\n  width: 33.333%;\n  float: left;\n  color: ",";\n  font-size: ",";\n  text-align: center;\n  > div {\n    margin-top: 4px;\n    color: ",";\n    text-align: center;\n  }\n"])),(function(e){return e.theme.$normalText}),(function(e){return e.theme.$normalTextSize}),(function(e){return e.selected?e.theme.$success:e.theme.$normalText})),Fn=function(){var e=Object(Yn.g)().pathname;return Object(b.jsxs)(Gn,{className:"clearfix",children:[Object(b.jsxs)(Rn,{to:"/",selected:"/"===e,children:["/"===e?Object(b.jsx)(h,{name:"solid-order",size:24,color:j.$success}):Object(b.jsx)(h,{name:"order",size:24}),Object(b.jsx)("div",{children:"\u660e\u7ec6"})]}),Object(b.jsxs)(Rn,{to:"/analysis",selected:"/analysis"===e,children:["/analysis"===e?Object(b.jsx)(h,{name:"solid-chart",size:24,color:j.$success}):Object(b.jsx)(h,{name:"chart",size:24}),Object(b.jsx)("div",{children:"\u7edf\u8ba1"})]}),Object(b.jsxs)(Rn,{to:"/settings",selected:"/settings"===e,children:["/settings"===e?Object(b.jsx)(h,{name:"solid-settings",size:24,color:j.$success}):Object(b.jsx)(h,{name:"settings",size:24}),Object(b.jsx)("div",{children:"\u8bbe\u7f6e"})]})]})},Nn=s.b.div(Ve||(Ve=Object(a.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),Qn=s.b.header(We||(We=Object(a.a)(["\n  padding: 52px 14px 16px;\n  background: ",";\n  color: ",";\n  .title {\n    text-align: center;\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.$success}),(function(e){return e.theme.$white}),(function(e){return e.theme.$largeTextSize})),Ln=function(e){return Object(b.jsxs)(Nn,{children:[Object(b.jsx)(Qn,{children:Object(b.jsx)("p",{className:"title",children:"\u8bb0\u8d26\u672c"})}),e.children,Object(b.jsx)(Fn,{})]})},Mn=s.b.section(qe||(qe=Object(a.a)(["\n  padding: 0 16px;\n  background:  #FAFAFA;\n"]))),Pn=s.b.section(Je||(Je=Object(a.a)(["\n  > p {\n    padding: 16px 0;\n    text-align: center;\n    color: ",";\n  }\n"])),(function(e){return e.theme.$subText})),Vn=s.b.ul(Ze||(Ze=Object(a.a)(["\n  padding-bottom: 16px;\n  display: flex;\n  flex-wrap: wrap;\n  list-style: none;\n"]))),Wn=s.b.li(Ke||(Ke=Object(a.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 6px;\n  border: 4px solid #FAFAFA;\n  width: 25%;\n  font-size: 1.1em;\n  padding: 16px;\n  background: ",";\n  color: ","\n"])),(function(e){return e.selected?e.theme.$success:"white"}),(function(e){return e.selected?"white":e.theme.$normalText})),qn=function(){return Object(ee.a)(Array(5)).map((function(e,n){return _()().subtract(n,"month")}))},Jn=function(e){var n=e.closeDrawer,t=e.value,r=e.onSubmit,c=_()(),i=_()().subtract(1,"year"),o=qn(),a=o.filter((function(e){return e.isSame(i,"year")})),s=o.filter((function(e){return e.isSame(c,"year")})),d=function(e){r(e),n()};return Object(b.jsxs)(Mn,{children:[s&&Object(b.jsxs)(Pn,{children:[Object(b.jsx)("p",{children:c.get("year")}),Object(b.jsx)(Vn,{children:s.map((function(e){return Object(b.jsxs)(Wn,{selected:e.isSame(t,"date"),onClick:function(){return d(e)},children:[e.get("month")+1,"\u6708"]},e.get("month"))}))})]}),0!==a.length&&Object(b.jsxs)(Pn,{children:[Object(b.jsx)("p",{children:i.get("year")}),Object(b.jsx)(Vn,{children:a.map((function(e){return Object(b.jsxs)(Wn,{selected:e.isSame(t,"date"),onClick:function(){return d(e)},children:[e.get("month")+1,"\u6708"]},e.get("month"))}))})]})]})},Zn=s.b.section(Ue||(Ue=Object(a.a)(["\n  padding: 0 12px;\n  background: ",";\n  color: ",";\n"])),(function(e){return e.theme.$success}),(function(e){return e.theme.$white})),Kn=s.b.button(Xe||(Xe=Object(a.a)(["\n  margin-top: 26px;\n  padding: 8px 16px;\n  color: ",";\n  background: #53BC82;\n  border: none;\n  outline: none;\n  border-radius: 4px;\n"])),(function(e){return e.theme.$white})),Un=s.b.button(He||(He=Object(a.a)(["\n  display: inline-flex;\n  align-items: center;\n  padding: 8px 16px;\n  color: ",";\n  border: none;\n  outline: none;\n  background: none;\n"])),(function(e){return e.theme.$white})),Xn=s.b.section(_e||(_e=Object(a.a)(["\n  padding-top: 8px;\n  font-weight: 300;\n"]))),Hn=s.b.ul(en||(en=Object(a.a)(["\n  padding: 8px;\n  flex-grow: 1;\n  overflow: auto;\n"]))),_n=s.b.div(nn||(nn=Object(a.a)(["\n  padding-top: 24px;\n  height: 100%;\n  text-align: center;\n  color: ","\n"])),(function(e){return e.theme.$subText})),et=function(){var e=Object(r.useState)(!1),n=Object(o.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)(!1),a=Object(o.a)(i,2),s=a[0],d=a[1],l=Object(r.useState)(!1),u=Object(o.a)(l,2),x=u[0],p=u[1],f=Object(r.useState)(_()()),O=Object(o.a)(f,2),m=O[0],g=O[1],w=Object(r.useState)(C),A=Object(o.a)(w,2),v=A[0],z=A[1],k=Object(r.useState)("expense"),S=Object(o.a)(k,2),E=S[0],$=S[1],D=Oe(),I=D.fetchData,B=D.addRawRecord,Y=(0,D.filterRecordList)(v,m,E),G=Object(o.a)(Y,1)[0],R=T.find((function(e){return e.id===v})),F=function(){I(),p(!1)};return Object(b.jsxs)(Ln,{children:[Object(b.jsxs)(Zn,{children:[Object(b.jsx)("section",{children:Object(b.jsxs)(Kn,{onClick:function(){return d(!0)},children:[Object(b.jsx)("span",{children:R?R.name:"\u5168\u90e8\u7c7b\u578b"}),Object(b.jsx)(y,{color:"#68C895"}),Object(b.jsx)(h,{color:"#edf5ed",name:"application"})]})}),Object(b.jsxs)(Xn,{children:[Object(b.jsxs)(Un,{onClick:function(){return c(!0)},children:[Object(b.jsx)("span",{style:{marginRight:4},children:m.format(ne)}),Object(b.jsx)(h,{color:"#A0D8BB",name:"drop-down"})]}),Object(b.jsxs)("span",{style:{marginRight:12},children:["\u603b\u652f\u51fa\uffe5",G?G.expenseTotal.toFixed(2):"0.00"]}),Object(b.jsxs)("span",{children:["\u603b\u6536\u5165\uffe5",G?G.incomeTotal.toFixed(2):"0.00"]})]})]}),0!==Y.length?Object(b.jsx)(Hn,{children:Y.map((function(e){return Object(b.jsx)(be,{monthRecord:e},e.month)}))}):Object(b.jsx)(_n,{children:"\u6682\u65e0\u6570\u636e"}),Object(b.jsx)(ge,{onClick:function(){return p(!0)},children:Object(b.jsx)(h,{name:"survey",size:22,color:j.$success})}),t&&Object(b.jsx)(Ce,{title:"\u8bf7\u9009\u62e9\u6708\u4efd",closeDrawer:function(){return c(!1)},children:Object(b.jsx)(Jn,{value:m,closeDrawer:function(){return c(!1)},onSubmit:function(e){return g(e)}})}),s&&Object(b.jsx)(Ce,{closeDrawer:function(){return d(!1)},children:Object(b.jsx)(Bn,{value:v,recordType:E,closeDrawer:function(){return d(!1)},onSubmit:function(e,n){z(e),$(n)}})}),x&&Object(b.jsx)(Ce,{closeDrawer:F,children:Object(b.jsx)(kn,{closeDrawer:F,onSubmit:function(e){B(e),alert("\u5df2\u6dfb\u52a0\u8be5\u8bb0\u5f55")}})})]})},nt=s.b.div(tn||(tn=Object(a.a)(["\n  flex-grow: 1;\n  overflow: auto;\n"]))),tt=s.b.div(rn||(rn=Object(a.a)(["\n  padding-left: 16px;\n  display: flex;\n  align-items: center;\n  background: white;\n  >span{\n    padding: 16px 0;\n    margin-left: 16px;\n    font-size: 1.2em;\n    flex-grow: 1;\n  }\n  :active{\n    background: #d6d6d6;\n  }\n"]))),rt=s.b.div(cn||(cn=Object(a.a)(["\n  padding: 32px;\n  text-align: center;\n  >p{\n    font-size: ",";\n  }\n  > img{\n    margin-top: 24px;\n    width: 200px;\n  }\n"])),(function(e){return e.theme.$largeTextSize})),ct=s.b.div(on||(on=Object(a.a)(["\n  padding: 24px;\n  text-align: center;\n  span, a {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.$largeTextSize})),it=function(){var e=Object(r.useState)(!1),n=Object(o.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)(!1),a=Object(o.a)(i,2),s=a[0],d=a[1];return Object(b.jsxs)(Ln,{children:[Object(b.jsxs)(nt,{children:[Object(b.jsxs)(tt,{style:{marginBottom:8},onClick:function(){return c(!0)},children:[Object(b.jsx)(h,{size:22,name:"qrcode",color:"#ff9800"}),Object(b.jsx)("span",{children:"\u628a\u8bb0\u8d26\u672c\u63a8\u8350\u7ed9\u670b\u53cb"})]}),Object(b.jsxs)(tt,{onClick:function(){return window.open("https://github.com/tgbf2674/wx-cash","_blank")},children:[Object(b.jsx)(h,{size:22,name:"github",color:"black"}),Object(b.jsx)("span",{style:{borderBottom:"1px solid #eee"},children:"\u6e90\u7801\u94fe\u63a5\uff0c\u6b22\u8fceStar"})]}),Object(b.jsxs)(tt,{onClick:function(){return d(!0)},children:[Object(b.jsx)(h,{size:22,name:"message",color:"#03a9f4"}),Object(b.jsx)("span",{children:"\u8054\u7cfb\u6211"})]})]}),t&&Object(b.jsx)(Ce,{closeDrawer:function(){return c(!1)},children:Object(b.jsxs)(rt,{children:[Object(b.jsx)("p",{children:"\u626b\u4e00\u4e0b\u9762\u4e8c\u7ef4\u7801\u4ee5\u5206\u4eab\u8be5\u8bb0\u8d26\u672c"}),Object(b.jsx)("img",{src:"data:image/png;base64,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",alt:"\u7f51\u7ad9\u4e8c\u7ef4\u7801"})]})}),s&&Object(b.jsx)(Ce,{closeDrawer:function(){return d(!1)},children:Object(b.jsxs)(ct,{children:[Object(b.jsx)("span",{style:{marginRight:8},children:"\u6211\u7684\u90ae\u7bb1\uff1a"}),Object(b.jsx)("a",{href:"mailto:tgbf2020@163.com",target:"_blank",rel:"noopener noreferrer",children:"tgbf2020@163.com"})]})})]})},ot=s.b.div(an||(an=Object(a.a)(["\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  text-align: center;\n  h3 {\n    margin: 16px 0;\n    font-size: 2.4em;\n    font-weight: normal;\n    letter-spacing: 1px;\n  }\n"]))),at=s.b.section(sn||(sn=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 12px;\n"]))),st=s.b.table(dn||(dn=Object(a.a)(["\n  margin-bottom: 16px;\n  text-align: left;\n  border-spacing: 8px;\n  td:first-child {\n    color: ",";\n    padding-right: 12px;\n  }\n"])),(function(e){return e.theme.$subText})),dt=s.b.button(ln||(ln=Object(a.a)(["\n  color: ",";\n  svg {\n    fill: ","\n  }\n"])),(function(e){return e.theme.$danger}),(function(e){return e.theme.$danger})),lt=s.b.section(jn||(jn=Object(a.a)(["\n  display: flex;\n  padding: 16px 0 0;\n  border-top: 1px solid #eee;\n  > button {\n    flex-grow: 1;\n    background: none;\n    border: none;\n  }\n"]))),jt=function(e){var n=e.rawRecord,t=e.onDelete,r=e.onEdit,c=n.id,i=n.amount,o=n.type,a=n.date,s=n.note,d=n.categoryId,l=F.find((function(e){return e.id===d}));if(!l)return Object(b.jsx)("div",{children:"\u9875\u9762\u51fa\u9519"});return Object(b.jsxs)(ot,{children:[Object(b.jsxs)(at,{children:[Object(b.jsx)(X,{category:l,recordType:o,size:14}),Object(b.jsx)("span",{style:{marginLeft:8},children:l.name})]}),Object(b.jsxs)("h3",{children:["expense"===o?"-":"+",i]}),Object(b.jsx)(st,{children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"\u8bb0\u5f55\u65f6\u95f4"}),Object(b.jsx)("td",{children:_()(a).format("YYYY\u5e74MM\u6708DD\u65e5 hh:mm")})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"\u5907\u6ce8"}),Object(b.jsx)("td",{children:s})]})]})}),Object(b.jsxs)(lt,{children:[Object(b.jsxs)(dt,{onClick:function(){window.confirm("\u5220\u9664\u540e\u65e0\u6cd5\u6062\u590d,\u662f\u5426\u5220\u9664\uff1f")&&t(c)},children:[Object(b.jsx)(h,{name:"trash"}),Object(b.jsx)("span",{style:{marginLeft:8},children:"\u5220\u9664"})]}),Object(b.jsx)(y,{gap:0}),Object(b.jsxs)("button",{onClick:r,children:[Object(b.jsx)(h,{name:"edit"}),Object(b.jsx)("span",{style:{marginLeft:8},children:"\u7f16\u8f91"})]})]})]})},bt=s.b.header(bn||(bn=Object(a.a)(["\n  padding: 24px 12px;\n"]))),ut=s.b.section(un||(un=Object(a.a)(["\n  padding: 0 12px;\n"]))),xt=function(){var e=Object(Yn.f)(),n=e.goBack,t=e.push,c=Object(Yn.h)().id,i=Oe(),a=i.rawRecordList,s=i.deleteRecord,d=i.editRecord,l=Object(r.useState)(!1),j=Object(o.a)(l,2),u=j[0],x=j[1],p=a.find((function(e){return e.id===c}));if(!p)return Object(b.jsx)("div",{children:"\u9875\u9762\u51fa\u9519"});return Object(b.jsxs)("div",{children:[Object(b.jsx)(bt,{children:Object(b.jsx)(h,{name:"left",onClick:n,size:24})}),Object(b.jsx)(ut,{children:Object(b.jsx)(jt,{onDelete:function(e){s(e),t("/"),alert("\u5220\u9664\u6210\u529f")},onEdit:function(){return x(u=!0)},rawRecord:p})}),u&&Object(b.jsx)(Ce,{closeDrawer:function(){return x(u=!1)},children:Object(b.jsx)(kn,{closeDrawer:function(){return x(u=!1)},value:p,onSubmit:function(e){d(e),alert("\u4fee\u6539\u6210\u529f")}})})]})},ht=s.b.span(xn||(xn=Object(a.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n"]))),pt=s.b.span(hn||(hn=Object(a.a)(["\n  margin-right: 4px;\n  font-size: ",";\n  color: ",";\n"])),(function(e){return e.theme.$subText}),(function(e){return e.theme.$subText})),ft=s.b.div(pn||(pn=Object(a.a)(["\n  position: relative;\n  height: ",";\n  width: ",";\n  background: #E5E5E5;\n  border-radius: 16px;\n"])),(function(e){return e.height+"px"}),(function(e){return e.width+"px"})),Ot=s.b.div(fn||(fn=Object(a.a)(["\n  position: absolute;\n  left: 0;\n  height: 100%;\n  width: ",";\n  border-radius: 16px;\n  background: ",";\n"])),(function(e){return e.progress+"%"}),(function(e){return e.color})),mt=function(e){var n=e.value,t=e.width,r=e.height,c=e.color;return Object(b.jsxs)(ht,{children:[Object(b.jsxs)(pt,{children:[(100*n).toFixed(2),"%"]}),Object(b.jsx)(ft,{width:t,height:r,children:Object(b.jsx)(Ot,{progress:100*n,color:c})})]})};mt.defaultProps={value:0,color:j.$success,width:200,height:8};var gt,yt,wt,At,vt,Ct,Tt,zt,kt,St,Et,$t,Dt,It,Bt,Yt,Gt,Rt=mt,Ft=s.b.section(gt||(gt=Object(a.a)(["\n  padding: 24px 0;\n  background: white;\n"]))),Nt=s.b.div(yt||(yt=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.$mainTextSize})),Qt=s.b.ul(wt||(wt=Object(a.a)(["\n  margin-top: 32px;\n  list-style: none;\n"]))),Lt=s.b.li(At||(At=Object(a.a)(["\n  display: flex;\n  margin-bottom: 24px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n  \n  > span {\n    display: inline-flex;\n    align-items: center;\n    &.ratio {\n      padding-right: 16px;\n      justify-content: flex-end;\n      text-align: right;\n      flex-grow: 1;\n    }\n  }\n"]))),Mt=s.b.div(vt||(vt=Object(a.a)(["\n  margin-top: 32px;\n  text-align: center;\n  color: ",";\n"])),(function(e){return e.theme.$subText})),Pt=function(e){var n=e.monthRecord,t=Object(r.useState)("expense"),c=Object(o.a)(t,2),i=c[0],a=c[1],s=function(e){var n={},t=0;return e.forEach((function(e){var r=e.categoryId;r in n||(n[r]={amount:0,category:T.find((function(e){return e.id===r})),ratio:0}),t+=e.amount,n[r].amount+=e.amount,n[r].ratio=n[r].amount/t})),Object.values(n).forEach((function(e){return e.ratio=e.amount/t})),Object.values(n).sort((function(e,n){return n.ratio-e.ratio}))}(n?fe(n).filter((function(e){return e.type===i})):[]);return Object(b.jsxs)(Ft,{children:[Object(b.jsxs)(Nt,{children:[Object(b.jsx)("span",{children:"\u6536\u652f\u6784\u6210"}),Object(b.jsxs)("span",{children:[Object(b.jsx)(On,{recordType:"expense"===i?"success":"none",size:"small",onClick:function(){return a("expense")},children:"\u652f\u51fa"}),Object(b.jsx)(On,{recordType:"income"===i?"warning":"none",size:"small",onClick:function(){return a("income")},children:"\u652f\u51fa"})]})]}),0!==s.length?Object(b.jsx)(Qt,{children:s.map((function(e){var n=e.category,t=e.amount,r=e.ratio;return Object(b.jsxs)(Lt,{children:[Object(b.jsxs)("span",{className:"category",children:[Object(b.jsx)(X,{category:n,recordType:i,size:14}),Object(b.jsx)("span",{style:{marginLeft:8},children:n.name})]}),Object(b.jsx)("span",{className:"ratio",children:Object(b.jsx)(Rt,{color:"expense"===i?j.$success:j.$warning,value:r,width:110,height:6})}),Object(b.jsxs)("span",{className:"amount",children:["\uffe5",t.toFixed(2)]})]},n.id)}))}):Object(b.jsx)(Mt,{children:"\u6682\u65e0\u6570\u636e"})]})},Vt=s.b.section(Ct||(Ct=Object(a.a)(["\n  padding: 32px 0;\n  text-align: center;\n  background: white;\n"]))),Wt=s.b.button(Tt||(Tt=Object(a.a)(["\n  padding: 8px 16px;\n  background: #F7F7F7;\n  border-radius: 4px;\n  color: ","\n"])),(function(e){return e.theme.$normalText})),qt=s.b.p(zt||(zt=Object(a.a)(["\n  margin: 20px 0 4px;\n  color: ",";\n"])),(function(e){return e.theme.$success})),Jt=s.b.p(kt||(kt=Object(a.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  span {\n    font-weight: 500;\n    font-size: 1.4em;\n    color: ",";\n    &.money {\n      font-size: 2.2em;\n    }\n  }\n"])),(function(e){return e.theme.$success})),Zt=s.b.p(St||(St=Object(a.a)(["\n  color: ","\n"])),(function(e){return e.theme.$subText})),Kt=function(e){var n=e.showMonth,t=e.month,r=e.monthRecord;return Object(b.jsxs)(Vt,{children:[Object(b.jsxs)(Wt,{onClick:n,children:[Object(b.jsx)("span",{children:t.format(ne)}),Object(b.jsx)(y,{gap:8,color:j.$placeholder}),Object(b.jsx)(h,{color:j.$normalText,name:"drop-down"})]}),Object(b.jsx)(qt,{children:"\u5171\u652f\u51fa"}),Object(b.jsxs)(Jt,{children:[Object(b.jsx)("span",{children:"\uffe5"}),Object(b.jsx)("span",{className:"money",children:r?r.expenseTotal.toFixed(2):"0.00"})]}),Object(b.jsxs)(Zt,{children:["\u5171\u6536\u5165\uffe5",r?r.incomeTotal.toFixed(2):"0.00"]})]})},Ut=t(107),Xt=t.n(Ut),Ht=function(e,n,t,r){var c="expense"===t?j.$success:j.$warning,i="expense"===t?"\u652f\u51fa":"\u6536\u5165";return{tooltip:{show:!0,trigger:"item",axisPointer:{type:"shadow",axis:"auto"},padding:5,textStyle:{color:"#eee"}},xAxis:{axisLabel:{formatter:"{value}\n".concat(r),textStyle:{color:j.$subText}},data:e},yAxis:{show:!1},series:[{type:"bar",name:i,data:n,label:{show:!0,position:"top",color:c,formatter:function(e){return 0===e.value?"":"\uffe5".concat(e.value.toFixed(2))}},itemStyle:{color:c},barMinHeight:4}]}},_t=s.b.div(Et||(Et=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  > span {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.$mainTextSize})),er=s.b.div($t||($t=Object(a.a)(["\n  margin: 0 -24px;\n"]))),nr=function(e){var n=e.month,t=e.monthRecord,c=Object(r.useState)("expense"),i=Object(o.a)(c,2),a=i[0],s=i[1],d=t?fe(t).filter((function(e){return e.type===a})):[],l=function(e){var n=e.get("year"),t=e.get("month"),r=new Date(n,t+1,0).getDate();return Object(ee.a)(Array(r)).map((function(e,n){return n+1}))}(n),j=function(e,n){return e.map((function(e){var t=n.find((function(n){return _()(n.date).get("date")===e}));return t?t.amount:0}))}(l,d),u=Ht(l,j,a,"\u53f7");return Object(b.jsxs)("section",{children:[Object(b.jsxs)(_t,{children:[Object(b.jsx)("span",{children:"\u6bcf\u65e5\u5bf9\u6bd4"}),Object(b.jsxs)("span",{children:[Object(b.jsx)(On,{recordType:"expense"===a?"success":"none",size:"small",onClick:function(){return s("expense")},children:"\u652f\u51fa"}),Object(b.jsx)(On,{recordType:"income"===a?"warning":"none",size:"small",onClick:function(){return s("income")},children:"\u6536\u5165"})]})]}),Object(b.jsx)(er,{children:Object(b.jsx)(Xt.a,{option:u})})]})},tr=s.b.div(Dt||(Dt=Object(a.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    font-size: ",";\n  }\n"])),(function(e){return e.theme.$mainTextSize})),rr=s.b.div(It||(It=Object(a.a)(["\n  margin: 0 -24px;\n"]))),cr=function(e){var n=e.getMonthRecord,t=Object(r.useState)("expense"),c=Object(o.a)(t,2),i=c[0],a=c[1],s=qn(),d=s.map((function(e){return e.get("month")})),l=function(e,n){return e.map((function(e){var t=n(e.format(ne));if(!t)return 0;var r=0;return fe(t).forEach((function(e){return r+=e.amount})),r}))}(s,n),j=Ht(d,l,i,"\u6708");return Object(b.jsxs)("div",{children:[Object(b.jsxs)(tr,{children:[Object(b.jsx)("span",{children:"\u6708\u5ea6\u5bf9\u6bd4"}),Object(b.jsxs)("span",{children:[Object(b.jsx)(On,{recordType:"expense"===i?"success":"none",size:"small",onClick:function(){return a("expense")},children:"\u652f\u51fa"}),Object(b.jsx)(On,{recordType:"income"===i?"warning":"none",size:"small",onClick:function(){return a("income")},children:"\u6536\u5165"})]})]}),Object(b.jsx)(rr,{children:Object(b.jsx)(Xt.a,{option:j})})]})},ir=s.b.div(Bt||(Bt=Object(a.a)(["\n  flex-grow: 1;\n  overflow: auto;\n"]))),or=s.b.section(Yt||(Yt=Object(a.a)(["\n  margin-top: 8px;\n  background: white;\n  padding: 24px;\n"]))),ar=function(){var e=Object(r.useState)(!1),n=Object(o.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)(_()()),a=Object(o.a)(i,2),s=a[0],d=a[1],l=Oe().getMonthRecord,j=l(s.format(ne));return Object(b.jsxs)(Ln,{children:[Object(b.jsxs)(ir,{children:[Object(b.jsx)(Kt,{monthRecord:j,month:s,showMonth:function(){return c(!0)}}),Object(b.jsxs)(or,{children:[Object(b.jsx)(Pt,{monthRecord:j}),Object(b.jsx)(y,{direction:"horizontal",gap:24}),Object(b.jsx)(nr,{monthRecord:j,month:s}),Object(b.jsx)(y,{direction:"horizontal",gap:24}),Object(b.jsx)(cr,{getMonthRecord:l})]})]}),t&&Object(b.jsx)(Ce,{title:"\u8bf7\u9009\u62e9\u6708\u4efd",closeDrawer:function(){return c(!1)},children:Object(b.jsx)(Jn,{value:s,closeDrawer:function(){return c(!1)},onSubmit:function(e){return d(e)}})})]})},sr=s.b.div(Gt||(Gt=Object(a.a)(["\n  position: relative;\n  max-width: 480px;\n  margin: 0 auto;\n  background: #EDEDED;\n  height: ","\n"])),(function(e){return e.height+"px"})),dr=function(){var e=Object(r.useState)(window.innerHeight),n=Object(o.a)(e,2),t=n[0],c=n[1],i=function(){c(.01*window.innerHeight)};return Object(r.useEffect)((function(){return window.addEventListener("resize",i),window.removeEventListener("resize",i)})),Object(b.jsx)(s.a,{theme:j,children:Object(b.jsx)(te.a,{children:Object(b.jsx)(sr,{height:t,children:Object(b.jsxs)(Yn.c,{children:[Object(b.jsx)(Yn.a,{exact:!0,path:"/",children:Object(b.jsx)(et,{})}),Object(b.jsx)(Yn.a,{path:"/analysis",children:Object(b.jsx)(ar,{})}),Object(b.jsx)(Yn.a,{path:"/settings",children:Object(b.jsx)(it,{})}),Object(b.jsx)(Yn.a,{path:"/record/:id",children:Object(b.jsx)(xt,{})})]})})})})};i.a.render(Object(b.jsx)(dr,{}),document.getElementById("root"))}},[[555,1,2]]]);
//# sourceMappingURL=main.8603afbc.chunk.js.map